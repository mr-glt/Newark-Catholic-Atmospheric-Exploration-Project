<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><!-- base href="https://codebender.cc/embed/sketch:30707" -->
	<script src="sketch30707_data/2cbf0ff869" type="text/javascript"></script><script src="sketch30707_data/nr-632.js"></script><script type="text/javascript" src="sketch30707_data/json3.js"></script>
	<script type="text/javascript" src="sketch30707_data/jquery-1.js"></script>
    <script type="text/javascript" src="sketch30707_data/jquery-ui.js"></script>
	<script type="text/javascript" src="sketch30707_data/bootstrap.js"></script>
    <script type="text/javascript" src="sketch30707_data/dropzone.js"></script>

<script type="text/javascript">
	var BrowserDetect = {
		init: function ()
		{
			this.browser = this.searchString(this.dataBrowser) || "An unknown browser";
			this.version = this.searchVersion(navigator.userAgent)
					|| this.searchVersion(navigator.appVersion)
					|| "an unknown version";
			this.OS = this.searchString(this.dataOS) || "an unknown OS";
		},
		searchString: function (data)
		{
			for (var i = 0; i < data.length; i++)
			{
				var dataString = data[i].string;
				var dataProp = data[i].prop;
				this.versionSearchString = data[i].versionSearch || data[i].identity;
				if (dataString)
				{
					if (dataString.indexOf(data[i].subString) != -1)
						return data[i].identity;
				}
				else if (dataProp)
					return data[i].identity;
			}
		},
		searchVersion: function (dataString)
		{
			var index = dataString.indexOf(this.versionSearchString);
			if (index == -1) return;
			return parseFloat(dataString.substring(index + this.versionSearchString.length + 1));
		},
		dataBrowser: [
			{
				string: navigator.userAgent,
				subString: "Chrome",
				identity: "Chrome"
			},
			{    string: navigator.userAgent,
				subString: "OmniWeb",
				versionSearch: "OmniWeb/",
				identity: "OmniWeb"
			},
			{
				string: navigator.vendor,
				subString: "Apple",
				identity: "Safari",
				versionSearch: "Version"
			},
			{
				prop: window.opera,
				identity: "Opera",
				versionSearch: "Version"
			},
			{
				string: navigator.vendor,
				subString: "iCab",
				identity: "iCab"
			},
			{
				string: navigator.vendor,
				subString: "KDE",
				identity: "Konqueror"
			},
			{
				string: navigator.userAgent,
				subString: "Firefox",
				identity: "Firefox"
			},
			{
				string: navigator.vendor,
				subString: "Camino",
				identity: "Camino"
			},
			{		// for newer Netscapes (6+)
				string: navigator.userAgent,
				subString: "Netscape",
				identity: "Netscape"
			},
			{
				string: navigator.userAgent,
				subString: "MSIE",
				identity: "Explorer",
				versionSearch: "MSIE"
			},
			{
				string: navigator.userAgent,
				subString: "Gecko",
				identity: "Mozilla",
				versionSearch: "rv"
			},
			{ 		// for older Netscapes (4-)
				string: navigator.userAgent,
				subString: "Mozilla",
				identity: "Netscape",
				versionSearch: "Mozilla"
			}
		],
		dataOS: [
			{
				string: navigator.platform,
				subString: "Win",
				identity: "Windows"
			},
			{
				string: navigator.platform,
				subString: "Mac",
				identity: "Mac"
			},
			{
				string: navigator.userAgent,
				subString: "iPhone",
				identity: "iPhone/iPod"
			},
			{
				string: navigator.platform,
				subString: "Linux",
				identity: "Linux"
			}
		]

	};
	BrowserDetect.init();
</script>

<!-- Le javascript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->

<script src="sketch30707_data/lawnchair-0.js"></script>
	<script src="sketch30707_data/dom.js"></script>

<script src="sketch30707_data/bootstrap-filestyle.js" type="text/javascript"></script>

<script type="text/javascript">
    $(document).ready(function(){
        var which_browser_interval = setInterval(function ()
        {
            if (typeof WhichBrowser !== 'undefined')
            {
	            clearInterval(which_browser_interval);
                window.Browsers = new WhichBrowser();

	            window.supportedLinux = Browsers.isOs('Unix') ||
							            Browsers.isOs('FreeBSD') ||
							            Browsers.isOs('OpenBSD') ||
							            Browsers.isOs('NetBSD') ||
							            Browsers.isOs('Solaris') ||
							            Browsers.isOs('Linux') ||
							            Browsers.isOs('Debian') ||
							            Browsers.isOs('Fedora') ||
							            Browsers.isOs('Gentoo') ||
							            Browsers.isOs('gNewSense') ||
							            Browsers.isOs('Kubuntu') ||
							            Browsers.isOs('Mandriva') ||
							            Browsers.isOs('Mageia') ||
							            Browsers.isOs('Red Hat') ||
							            Browsers.isOs('Slackware') ||
							            Browsers.isOs('SUSE') ||
							            Browsers.isOs('Turbolinux') ||
							            Browsers.isOs('Ubuntu');

	            window.useChromeApp = function () {
		            var linuxBrowsers = Browsers.isBrowser('Chrome', '>=', '41') ||
	                                    Browsers.isBrowser('Chromium', '>=', '41');

		            return Browsers.isOs('Chrome OS') ||
				            Browsers.isBrowser('Chrome', '>=', '42') ||
				            Browsers.isBrowser('Chromium', '>=', '42') ||
				            (window.supportedLinux && linuxBrowsers);
	            };

	            window.isWindowsWithChrome = function () {
		            return Browsers.isOs('Windows') && (Browsers.isBrowser('Chrome') ||
				            Browsers.isBrowser('Chromium'));
	            };

	            window.isWindowsWithChromeApp = function () {
		            return Browsers.isOs('Windows') && (Browsers.isBrowser('Chrome', '>=', '42') ||
			                Browsers.isBrowser('Chromium', '>=', '42'));
	            };

	            window.isSupportedOs = function () {
		            return Browsers.isOs('Mac OS X') ||
				            Browsers.isOs('Windows') ||
		                    Browsers.isOs('Chrome OS') ||
				            window.supportedLinux;
	            };

                window.osBrowserIsSupported = function(){
                    if(!Browsers.isType("desktop")) {
	                    return false;
                    }

	                var winMac = Browsers.isOs('Mac OS X') ||
		                         Browsers.isOs('Windows');

	                var winMacBrowsers = Browsers.isBrowser('Firefox') ||
	                Browsers.isBrowser('Chrome') ||
	                Browsers.isBrowser('Chromium');

	                if (winMac && winMacBrowsers) {
		                return true;
	                }

	                var linuxBrowsers = Browsers.isBrowser('Firefox') ||
					                Browsers.isBrowser('Chrome', '<', '35') ||
					                Browsers.isBrowser('Chrome', '>=', '41') ||
					                Browsers.isBrowser('Chromium', '<', '35') ||
					                Browsers.isBrowser('Chromium', '>=', '41');

	                if (window.supportedLinux && linuxBrowsers) {
		                return true;
	                }

	                var chromeOs = Browsers.isOs('Chrome OS');
	                var chromeOsBrowsers = Browsers.isBrowser('Chrome', '>=', '41') ||
		                                    Browsers.isBrowser('Chromium', '>=', '41');

	                return chromeOs && chromeOsBrowsers;
                }
            }

        }, 100);

        $('.flash-notice').append('<a class="close-flash-notice" href="javascript:void(0);">&times;</a>');

        $('.close-flash-notice').on('click', function (e) {
            $(this).parent().remove();
        });
    });
    function isMobile() {

        return navigator.userAgent.match(/Android/i) ? true : false
                || navigator.userAgent.match(/BlackBerry/i) ? true : false
                || navigator.userAgent.match(/iPhone|iPad|iPod/i) ? true : false
                || navigator.userAgent.match(/IEMobile/i) ? true : false;
    }

    window.assets_basepath = "/./";

    (function(){var p=[],w=window,d=document,e=f=0;p.push('ua='+encodeURIComponent(navigator.userAgent));e|=w.ActiveXObject?1:0;e|=w.opera?2:0;e|=w.chrome?4:0;
        e|='getBoxObjectFor' in d || 'mozInnerScreenX' in w?8:0;e|=('WebKitCSSMatrix' in w||'WebKitPoint' in w||'webkitStorageInfo' in w||'webkitURL' in w)?16:0;
        e|=(e&16&&({}.toString).toString().indexOf("\n")===-1)?32:0;p.push('e='+e);f|='sandbox' in d.createElement('iframe')?1:0;f|='WebSocket' in w?2:0;
        f|=w.Worker?4:0;f|=w.applicationCache?8:0;f|=w.history && history.pushState?16:0;f|=d.documentElement.webkitRequestFullScreen?32:0;f|='FileReader' in w?64:0;
        p.push('f='+f);p.push('r='+Math.random().toString(36).substring(7));p.push('w='+screen.width);p.push('h='+screen.height);var s=d.createElement('script');
        s.src='/js/wb/detect.js?' + p.join('&');d.getElementsByTagName('head')[0].appendChild(s);})();

    function createLog (actionId, metaData, callback) {
        var metaDataJson = JSON.stringify(metaData, function (key, value) {
            // Convert undefined values to null
            if(value === undefined) {
                value = null;
            }
            return value;
        });

        var url = "/utilities/logdb/ACTION_ID";
        url = url.replace('ACTION_ID', actionId);

        var data = {
            meta: metaDataJson
        };
        if (typeof callback !== 'function') {
            $.post(url, data);
        }
        else {
            $.post(url, data).done(callback());
        }
    }

	function setOperationOutputMessage (message) {
		var $cbCfOperationOutput = $('#cb_cf_operation_output');
		$cbCfOperationOutput.html(message);
		if (message.length > 0) {
			$cbCfOperationOutput.removeClass('new-message').width();
			$cbCfOperationOutput.addClass('new-message');
		}
	}
</script><script src="sketch30707_data/detect.js"></script>
	<link href="sketch30707_data/bootstrap.css" rel="stylesheet">
	<link href="sketch30707_data/bootstrap-responsive.css" rel="stylesheet">
	<link href="sketch30707_data/font-awesome.css" rel="stylesheet">
    <link href="sketch30707_data/jquery-ui.css" rel="stylesheet" type="text/css">
<link href="sketch30707_data/dropzone.css" rel="stylesheet">
<link href="sketch30707_data/codebender.css" rel="stylesheet">

<style type="text/css">
	#plugin0
	{
		float: right;
	}

	.close-flash-notice {
		float: right;
		position: relative;
		top: -20px;
		left: 20px;
		font-size: large;
		font-weight: bold;
		color: #000;
		text-decoration: none;
	}

	.close-flash-notice:hover {
		color: #000;
		text-decoration: none;
	}

	.new-message {
		-webkit-animation: blink 1s 1;

		-moz-animation: blink 1s 1;

		animation: blink  1s 1;
	}

	@-moz-keyframes blink {
		0% { background-color: #FFF8C4; }
	}

	@-webkit-keyframes blink {
		0% { background-color: #FFF8C4; }
	}

	@keyframes blink {
		0% { background-color: #FFF8C4; }
	}
</style>

<script type="text/javascript">
    $(document).ready(function() {
        var actionId = 48;
        var metaData = {
            "url": window.location.pathname,
            "parent": (window.location != window.parent.location) ? document.referrer: document.location['href']
        };
        createLog(actionId, metaData);
    });
</script>
<script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,n,t){function r(t){if(!n[t]){var o=n[t]={exports:{}};e[t][0].call(o.exports,function(n){var o=e[t][1][n];return r(o?o:n)},o,o.exports)}return n[t].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<t.length;o++)r(t[o]);return r}({QJf3ax:[function(e,n){function t(e){function n(n,t,a){e&&e(n,t,a),a||(a={});for(var u=c(n),f=u.length,s=i(a,o,r),p=0;f>p;p++)u[p].apply(s,t);return s}function a(e,n){f[e]=c(e).concat(n)}function c(e){return f[e]||[]}function u(){return t(n)}var f={};return{on:a,emit:n,create:u,listeners:c,_events:f}}function r(){return{}}var o="nr@context",i=e("gos");n.exports=t()},{gos:"7eSDFh"}],ee:[function(e,n){n.exports=e("QJf3ax")},{}],3:[function(e,n){function t(e){return function(){r(e,[(new Date).getTime()].concat(i(arguments)))}}var r=e("handle"),o=e(1),i=e(2);"undefined"==typeof window.newrelic&&(newrelic=window.NREUM);var a=["setPageViewName","addPageAction","setCustomAttribute","finished","addToTrace","inlineHit","noticeError"];o(a,function(e,n){window.NREUM[n]=t("api-"+n)}),n.exports=window.NREUM},{1:12,2:13,handle:"D5DuLP"}],"7eSDFh":[function(e,n){function t(e,n,t){if(r.call(e,n))return e[n];var o=t();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,n,{value:o,writable:!0,enumerable:!1}),o}catch(i){}return e[n]=o,o}var r=Object.prototype.hasOwnProperty;n.exports=t},{}],gos:[function(e,n){n.exports=e("7eSDFh")},{}],handle:[function(e,n){n.exports=e("D5DuLP")},{}],D5DuLP:[function(e,n){function t(e,n,t){return r.listeners(e).length?r.emit(e,n,t):(o[e]||(o[e]=[]),void o[e].push(n))}var r=e("ee").create(),o={};n.exports=t,t.ee=r,r.q=o},{ee:"QJf3ax"}],id:[function(e,n){n.exports=e("XL7HBI")},{}],XL7HBI:[function(e,n){function t(e){var n=typeof e;return!e||"object"!==n&&"function"!==n?-1:e===window?0:i(e,o,function(){return r++})}var r=1,o="nr@id",i=e("gos");n.exports=t},{gos:"7eSDFh"}],G9z0Bl:[function(e,n){function t(){var e=d.info=NREUM.info,n=f.getElementsByTagName("script")[0];if(e&&e.licenseKey&&e.applicationID&&n){c(p,function(n,t){n in e||(e[n]=t)});var t="https"===s.split(":")[0]||e.sslForHttp;d.proto=t?"https://":"http://",a("mark",["onload",i()]);var r=f.createElement("script");r.src=d.proto+e.agent,n.parentNode.insertBefore(r,n)}}function r(){"complete"===f.readyState&&o()}function o(){a("mark",["domContent",i()])}function i(){return(new Date).getTime()}var a=e("handle"),c=e(1),u=(e(2),window),f=u.document,s=(""+location).split("?")[0],p={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-632.min.js"},d=n.exports={offset:i(),origin:s,features:{}};f.addEventListener?(f.addEventListener("DOMContentLoaded",o,!1),u.addEventListener("load",t,!1)):(f.attachEvent("onreadystatechange",r),u.attachEvent("onload",t)),a("mark",["firstbyte",i()])},{1:12,2:3,handle:"D5DuLP"}],loader:[function(e,n){n.exports=e("G9z0Bl")},{}],12:[function(e,n){function t(e,n){var t=[],o="",i=0;for(o in e)r.call(e,o)&&(t[i]=n(o,e[o]),i+=1);return t}var r=Object.prototype.hasOwnProperty;n.exports=t},{}],13:[function(e,n){function t(e,n,t){n||(n=0),"undefined"==typeof t&&(t=e?e.length:0);for(var r=-1,o=t-n||0,i=Array(0>o?0:o);++r<o;)i[r]=e[n+r];return i}n.exports=t},{}]},{},["G9z0Bl"]);</script><style id="ace_editor.css">.ace_editor {position: relative;overflow: hidden;font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;direction: ltr;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: '';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}</style><style id="ace-tm">.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;border-radius: 2px;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}</style><style>    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }</style><style>.ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}</style><style>.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);}.ace_editor.ace_autocomplete .ace_line-hover {    position: absolute;    z-index: 2;}.ace_editor.ace_autocomplete .ace_scroller {   background: none;   border: none;   box-shadow: none;}.ace_rightAlignedText {    color: gray;    display: inline-block;    position: absolute;    right: 4px;    text-align: right;    z-index: -1;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #000;    text-shadow: 0 0 0.01em;}.ace_editor.ace_autocomplete {    width: 280px;    z-index: 200000;    background: #fbfbfb;    color: #444;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;}</style><script src="sketch30707_data/mode-arduino.js"></script></head><body onload="prettyPrint()" style="background: transparent; padding:0px;">
     <link href="sketch30707_data/prettify.css" type="text/css" rel="stylesheet">
 <style type="text/css">

    #codeBender_embed_wrapper{
        position: relative;
        height: 500px;
        width: 100%;
        z-index: 45;
    }

    #codeBender_embed_wrapper #codeBender_embed_header
    {
        height: 34px;
        width: 100%;
        background: #7b88a3; /* Old browsers */
        background: -moz-linear-gradient(top,  #7b88a3 0%, #6c7890 42%, #657186 52%, #525c6d 100%); /* FF3.6+ */
        background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#7b88a3), color-stop(42%,#6c7890), color-stop(52%,#657186), color-stop(100%,#525c6d)); /* Chrome,Safari4+ */
        background: -webkit-linear-gradient(top,  #7b88a3 0%,#6c7890 42%,#657186 52%,#525c6d 100%); /* Chrome10+,Safari5.1+ */
        background: -o-linear-gradient(top,  #7b88a3 0%,#6c7890 42%,#657186 52%,#525c6d 100%); /* Opera 11.10+ */
        background: -ms-linear-gradient(top,  #7b88a3 0%,#6c7890 42%,#657186 52%,#525c6d 100%); /* IE10+ */
        background: linear-gradient(to bottom,  #7b88a3 0%,#6c7890 42%,#657186 52%,#525c6d 100%); /* W3C */
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#7b88a3', endColorstr='#525c6d',GradientType=0 ); /* IE6-9 */
        position: absolute;
        border-top-left-radius: 5px;
        border-top-right-radius: 5px;
    }

    #edit-button
    {
	    position: absolute;
	    top: 0;
	    right: 231px;
	    width: 80px;
	    height: 100%;
	    line-height: 34px;
	    text-align: center;
	    border-left: 1px solid #333;
	    background: #2e3340; /* Old browsers */
	    background: -moz-linear-gradient(top, #666666 0%, #2e3340 100%); /* FF3.6+ */
	    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #666666), color-stop(100%, #2e3340)); /* Chrome,Safari4+ */
	    background: -webkit-linear-gradient(top, #666666 0%, #2e3340 100%); /* Chrome10+,Safari5.1+ */
	    background: -o-linear-gradient(top, #666666 0%, #2e3340 100%); /* Opera 11.10+ */
	    background: -ms-linear-gradient(top, #666666 0%, #2e3340 100%); /* IE10+ */
	    background: linear-gradient(to bottom, #666666 0%, #2e3340 100%); /* W3C */
	    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#666666', endColorstr='#2e3340', GradientType=0); /* IE6-9 */
	    text-decoration: none;
	    color: #fff;
    }

    #codeBender_embed_wrapper #codeBender_embed_header a.clone-link
    {
	    position: absolute;
	    top: 0;
	    right: 115px;
	    width: 115px;
	    height: 100%;
	    line-height: 34px;
	    text-align: center;
	    border-left: 1px solid #333;
	    background: #2e3340; /* Old browsers */
	    background: -moz-linear-gradient(top, #666666 0%, #2e3340 100%); /* FF3.6+ */
	    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #666666), color-stop(100%, #2e3340)); /* Chrome,Safari4+ */
	    background: -webkit-linear-gradient(top, #666666 0%, #2e3340 100%); /* Chrome10+,Safari5.1+ */
	    background: -o-linear-gradient(top, #666666 0%, #2e3340 100%); /* Opera 11.10+ */
	    background: -ms-linear-gradient(top, #666666 0%, #2e3340 100%); /* IE10+ */
	    background: linear-gradient(to bottom, #666666 0%, #2e3340 100%); /* W3C */
	    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#666666', endColorstr='#2e3340', GradientType=0); /* IE6-9 */
	    text-decoration: none;
	    color: #fff;
    }

    #codeBender_embed_wrapper #codeBender_embed_header a.clone-link-inactive
    {
        color: #828282;
    }

    #codeBender_embed_wrapper #codeBender_embed_header a.download-link
    {
        position: absolute;
        top: 0;
        right: 0;
        width: 115px;
        height: 100%;
        line-height: 34px;
        text-align: center;
        border-left: 1px solid #333;
        background: #2e3340; /* Old browsers */
        background: -moz-linear-gradient(top, #666666 0%, #2e3340 100%); /* FF3.6+ */
        background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#666666), color-stop(100%,#2e3340)); /* Chrome,Safari4+ */
        background: -webkit-linear-gradient(top, #666666 0%,#2e3340 100%); /* Chrome10+,Safari5.1+ */
        background: -o-linear-gradient(top, #666666 0%,#2e3340 100%); /* Opera 11.10+ */
        background: -ms-linear-gradient(top, #666666 0%,#2e3340 100%); /* IE10+ */
        background: linear-gradient(to bottom, #666666 0%,#2e3340 100%); /* W3C */
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#666666', endColorstr='#2e3340',GradientType=0 ); /* IE6-9 */
        border-top-right-radius: 5px;
        text-decoration: none;
        color: #fff;
    }

    #codeBender_embed_wrapper #codeBender_embed_header a.star-link
    {
        position: absolute;
        top: 0;
        right: 300px;
        width: 115px;
        height: 100%;
        line-height: 34px;
        text-align: center;
        border-left: 1px solid #333;
        background: #2e3340; /* Old browsers */
        background: -moz-linear-gradient(top, #666666 0%, #2e3340 100%); /* FF3.6+ */
        background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #666666), color-stop(100%, #2e3340)); /* Chrome,Safari4+ */
        background: -webkit-linear-gradient(top, #666666 0%, #2e3340 100%); /* Chrome10+,Safari5.1+ */
        background: -o-linear-gradient(top, #666666 0%, #2e3340 100%); /* Opera 11.10+ */
        background: -ms-linear-gradient(top, #666666 0%, #2e3340 100%); /* IE10+ */
        background: linear-gradient(to bottom, #666666 0%, #2e3340 100%); /* W3C */
        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#666666', endColorstr='#2e3340', GradientType=0); /* IE6-9 */
        text-decoration: none;
        color: #fff;
    }

    #codeBender_embed_wrapper #codeBender_embed_header a.star-link-inactive
    {
        color: #828282;
    }

    #codeBender_embed_wrapper #codeBender_embed_sidebar
    {
        position: absolute;
        left: 0;
        top: 34px;
        bottom: 42px;
        width: 0;
        background: #d5dde6;
        overflow-x: auto;
        overflow-y: auto;
        border-left: 1px solid #999;
    }

    #codeBender_embed_wrapper #codeBender_embed_sidebar .file
    {
        height: 20px;
        line-height: 20px;
        display: block;
    }

    #file_list, #file_list .name {
        display: inline-block;
        white-space: nowrap !important;
    }

    #codeBender_embed_wrapper #codeBender_embed_sidebar .file-selected
    {
        background: #8186a2; /* Old browsers */
        background: -moz-linear-gradient(top,  #8186a2 0%, #95a4b6 1%, #697a90 100%); /* FF3.6+ */
        background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#8186a2), color-stop(1%,#95a4b6), color-stop(100%,#697a90)); /* Chrome,Safari4+ */
        background: -webkit-linear-gradient(top,  #8186a2 0%,#95a4b6 1%,#697a90 100%); /* Chrome10+,Safari5.1+ */
        background: -o-linear-gradient(top,  #8186a2 0%,#95a4b6 1%,#697a90 100%); /* Opera 11.10+ */
        background: -ms-linear-gradient(top,  #8186a2 0%,#95a4b6 1%,#697a90 100%); /* IE10+ */
        background: linear-gradient(to bottom,  #8186a2 0%,#95a4b6 1%,#697a90 100%); /* W3C */
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#8186a2', endColorstr='#697a90',GradientType=0 ); /* IE6-9 */
    }

    #codeBender_embed_wrapper #codeBender_embed_codeContainer
    {
        position: absolute;
        left: 0px;
        top: 34px;
        bottom: 24px;
        right: 0px;
        overflow: hidden;
        border-left: 1px solid #999;
        border-right: 1px solid #999;
        background-color: white;
    }

    #codeBender_embed_wrapper #codeBender_embed_codeWrapper
    {
	    width: 100%;
        position: relative;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        overflow: hidden;
        background: #FFF;
    }

    #codeBender_embed_wrapper #codeBender_embed_footer
    {
        height: 40px;
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        border-bottom-left-radius: 3px;
        border-bottom-right-radius: 3px;
        border: 1px solid #999;
        background: #cbcdcd; /* Old browsers */
        background: -moz-linear-gradient(top,  #cbcdcd 0%, #cbcdcd 17%, #a6a7a7 64%, #8d8d8d 100%); /* FF3.6+ */
        background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#cbcdcd), color-stop(17%,#cbcdcd), color-stop(64%,#a6a7a7), color-stop(100%,#8d8d8d)); /* Chrome,Safari4+ */
        background: -webkit-linear-gradient(top,  #cbcdcd 0%,#cbcdcd 17%,#a6a7a7 64%,#8d8d8d 100%); /* Chrome10+,Safari5.1+ */
        background: -o-linear-gradient(top,  #cbcdcd 0%,#cbcdcd 17%,#a6a7a7 64%,#8d8d8d 100%); /* Opera 11.10+ */
        background: -ms-linear-gradient(top,  #cbcdcd 0%,#cbcdcd 17%,#a6a7a7 64%,#8d8d8d 100%); /* IE10+ */
        background: linear-gradient(to bottom,  #cbcdcd 0%,#cbcdcd 17%,#a6a7a7 64%,#8d8d8d 100%); /* W3C */
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#cbcdcd', endColorstr='#8d8d8d',GradientType=0 ); /* IE6-9 */
    }

    #codeBender_embed_wrapper #codeBender_embed_footer img
    {
        position: absolute;
        left: 10px;
        margin-top:8px;
    }

    #codeBender_embed_wrapper #codeBender_embed_footer #codeBender_flashing_plugin
    {
        margin-top:3px;
        position: absolute;
        left: 40px;
        right:10px;
        line-height: 24px;
        color: #5f6060;
        display: inline-block;
        text-decoration: none;
    }
    .name
    {
        padding-left: 10px;
        padding-right: 5px;
    }

    .names
    {
        color:white;
        margin-left: 10px;
        margin-top: 6px;
    }

    .names a
    {
        color:#a2b6e5;
    }

    .names a:hover
    {
        color: #899bc5;
    }

    .pre-scrollable
    {
        height: 420px;
        max-height: 420px;
        border:none;
        overflow-y:auto;
    }

    #verify_div
    {
        display: inline;
    }

    #cb_cf_boards
    {
        width:43%;
    }

    #cb_cf_ports
    {
        width: calc(55% - 142px);
        width: -moz-calc(55% - 142px);
        width: -webkit-calc(55% - 142px);
    }

    #cb_cf_flash_btn
    {
        margin-bottom: 9px;
    }

    #cb_cf_operation_output
    {
        bottom: 33px;
        position: absolute;
        right: -11px;
        border-top-right-radius: 0;
        border-top-left-radius: 3px;
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
        border-width: 1px;
        border-color: gray;
        border-style: solid;
        padding: 3px 10px 3px 10px;
        background-color: #F7F7F4;
        z-index: 99;

    }

    .alert
    {
        /*padding-top: 9px;*/
	    padding-top: 5px;
	    padding-bottom: 2px;
        margin-left: 5px;
	    margin-bottom: 0;
        /*display: inline;*/
    }

    .file
    {
        cursor: pointer;
    }

    .ace_content
    {
        cursor: default;
    }

</style>
<style>
	li.L0, li.L1, li.L2, li.L3, li.L4,
	li.L5, li.L6, li.L7, li.L8, li.L9
	{
		background: white;
		list-style-type: decimal !important
	}
	ol.linenums
	{
		padding-left:60px;
		margin-left: 0;
		background:#f0f0f0;
	}
	li span
	{
		white-space: pre;
		tab-size: 4;
	}
</style>

<script src="sketch30707_data/prettify.js" type="text/javascript"></script>
<script type="text/javascript" src="sketch30707_data/compilerflasher.js"></script>
 <script type="text/javascript" src="sketch30707_data/compilerflasher_new.js"></script>
<script type="text/javascript" src="sketch30707_data/jquery.js"></script>
<script type="text/javascript" src="sketch30707_data/jquery_002.js"></script>
<script type="text/javascript" src="sketch30707_data/min.js"></script>

<script src="sketch30707_data/ace.js" type="text/javascript" charset="utf-8"></script>
<script src="sketch30707_data/ext-language_tools.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript">
	//Manual shallow js object copy - faster than .extend()
	function jsObjClone(obj)
	{
		var objcopy = {};
		for (var i in obj)
		{
			if (obj.hasOwnProperty(i))
				objcopy[i] = obj[i];
		}
		return objcopy;
	}

	// Alternative check for js objects equality
	function checkObjEquals(a, b)
	{
		var aProps = Object.getOwnPropertyNames(a);
		var bProps = Object.getOwnPropertyNames(b);
		if (aProps.length != bProps.length)
		{
			return false;
		}
		for (var i = 0; i < aProps.length; i++)
		{
			var propName = aProps[i];
			if (a[propName] !== b[propName])
			{
				return false;
			}
		}
		return true;
	}

	function objDiff (a, b)
	{
		var diff = {};
		var k;

		for (k in a)
		{
			if (!b.hasOwnProperty(k))
			{
				diff[k] = a[k];
			}
		}

		for (k in b)
		{
			if (!a.hasOwnProperty(k))
			{
				diff[k] = b[k];
			}
		}

		return diff;
	}

	// Decodes an HTML string
	function decodeHtml(html)
	{
		var text = html.replace(/&quot;/g, '"').replace(/&amp;/g, '&').replace(/&lt;/g, '<').replace(/&gt;/g, '>');
		return text;
	}

	function isInoFile (fname)
	{
		var ino_re = /^.+\.ino$/;
		var status = false;
		if (ino_re.test(fname))
			status = true;
		return status;
	}

	eventManager = new function ()
	{
		this._listeners = {};
		this.addListener = function (type, listener)
		{
			if (typeof this._listeners[type] == "undefined")
			{
				this._listeners[type] = [];
			}
			this._listeners[type].push(listener);
		};
		this.fire = function (event, param1, param2, param3)
		{
			if (typeof event == "string")
			{
				event = {type: event};
			}
			if (!event.target)
			{
				event.target = this;
			}
			if (!event.type)
			{
				throw new Error("Event object missing 'type' property.");
			}
			if (this._listeners[event.type] instanceof Array)
			{
				var listeners = this._listeners[event.type];
				for (var i = 0, len = listeners.length; i < len; i++)
				{
					if (typeof param1 !== 'undefined')
					{
						if (typeof param2 !== 'undefined')
						{
							if (typeof param3 !== 'undefined')
							{
								listeners[i].call(this, param1, param2, param3);
							}
							else
							{
								listeners[i].call(this, param1, param2);
							}
						}
						else
						{
							listeners[i].call(this, param1);
						}
					}
					else
					{
						listeners[i].call(this);
					}
				}
			}
		};
		this.removeListener = function (type, listener)
		{
			if (this._listeners[type] instanceof Array)
			{
				var listeners = this._listeners[type];
				for (var i = 0, len = listeners.length; i < len; i++)
				{
					if (listeners[i] === listener)
					{
						listeners.splice(i, 1);
						break;
					}
				}
			}
		}
	};
</script>
<script type="text/javascript">
	fileManager = function (filelist)
	{
		this.state = {};
		this.savedState = {};
		this.inoFname = null;
		this.openFname = null;
		this.currentState = null;

		var self = this;

		this.setContent = function (fname, content)
		{
			if (self.state.hasOwnProperty(fname))
			{
				self.state[fname].content = content;
			}
		};

		this.setFolds = function (fname, folds)
		{
			if (self.state.hasOwnProperty(fname))
			{
				self.state[fname].folds = folds;
			}
		};

		this.setCursor = function (fname, cursor)
		{
			if (self.state.hasOwnProperty(fname))
			{
				self.state[fname].cursor = cursor;
			}
		};

		this.openFile = function (fname, content, keepContent)
		{
			if (self.state.hasOwnProperty(fname))
			{
				if (content !== undefined)
				{
					self.setContent(fname, content);
				}
				editor.setState(self.state[fname], keepContent);
				self.openFname = fname;
			}
			else
			{
				self.openFile(self.inoFname);
			}
		};

		this.addFile = function (fname, content)
		{
			var state = {
				content: content,
				cursor: {row: 0, column: 0},
				folds: []
			};
			self.state[fname] = state;
			self.savedState[fname] = state.content;
		};

		this.removeFile = function (fname)
		{
			if (self.state.hasOwnProperty(fname))
			{
				delete self.state[fname];
			}
			if (self.savedState.hasOwnProperty(fname))
			{
				delete self.savedState[fname];
			}
		};

		this.renameFile = function (oldFname, newFname)
		{
			if (self.state.hasOwnProperty(oldFname))
			{
				self.state[newFname] = self.state[oldFname];
				delete self.state[oldFname];
			}
			if (self.savedState.hasOwnProperty(oldFname))
			{
				self.savedState[newFname] = self.savedState[oldFname];
				delete self.savedState[oldFname];
			}
			if (isInoFile(newFname))
			{
				self.inoFname = newFname;
			}
		};

		this.getFiles = function ()
		{
			var files = {};
			for(var fname in self.state)
			{
				files[fname] = decodeHtml(self.state[fname].content);
			}
			return files;
		};

		this.setFiles = function (docState)
		{
			var localState = this.getFiles();

			for (var fname in docState)
			{
				if (localState.hasOwnProperty(fname))
				{
					self.setContent(fname, docState[fname]);
				}
			}

			if (Object.keys(localState).length < Object.keys(docState).length)
			{
				for (var fname in docState)
				{
					if (!localState.hasOwnProperty(fname))
					{
						self.addFile(fname, docState[fname]);
					}
				}
			}
			else if (Object.keys(localState).length > Object.keys(docState).length)
			{
				for (var fname in localState)
				{
					if (!docState.hasOwnProperty(fname))
					{
						self.removeFile(fname);
					}
				}
			}
			else
			{
				var oldFname;
				for (var fname in Object.keys(localState))
				{
					if (!docState.hasOwnProperty(fname))
					{
						oldFname = fname;
					}
				}

				var newFname;
				for (var fname in Object.keys(docState))
				{
					if (!localState.hasOwnProperty(fname))
					{
						newFname = fname;
					}
				}

				self.renameFile(oldFname, newFname);
			}
		};

		this.updateSavedState = function (action)
		{
			var state = this.getFiles();
			var diff;
			for (var fname in state)
			{
				if (!self.savedState.hasOwnProperty(fname))
				{
					if (action == 'addFile')
					{
						self.savedState[fname] = state[fname];
					}

					else if (action == 'renameFile')
					{
						diff = fname;
					}
				}
			}

			for (var fname in self.savedState)
			{
				if (!state.hasOwnProperty(fname))
				{
					if (action == 'removeFile')
					{
						delete self.savedState[fname];
					}

					else if (action == 'renameFile' && diff !== null)
					{
						self.savedState[diff] = self.savedState[fname];
						delete self.savedState[fname];
					}
				}
			}
		};

		this.getCurrentState = function () {
			var state = this.getFiles();
			if (state.hasOwnProperty(this.openFname)) {
				state[this.openFname] = editor.getValue();
			}

			return state;
		};

		this.saveState = function ()
		{
			self.savedState = self.getFiles();
		};

		this.isStateSaved = function ()
		{
			return checkObjEquals(self.getFiles(), self.savedState);
		};

		this.isFile = function (fname)
		{
			return self.state.hasOwnProperty(fname);
		};

		for(fname in filelist)
		{
			self.addFile(fname, decodeHtml(filelist[fname]));
			if (isInoFile(fname))
			{
				self.inoFname = fname;
			}
		}
		this.currentState = this.getFiles();
		this.saveState();
	};
</script>
<script type="text/javascript">
	editor = function (editor, files, enableInEditorLibrarySearch)
	{
		/* autocompletion */
		this.cbenderCompleter =
		{
			getCompletions: function (editor, session, pos, prefix, callback)
			{
				if (!window.autoCompleteTimeout)
				{
					window.autoCompleteTimeout = setTimeout(function ()
					{
						window.autoCompleteTimeout = null;
						payload = $.parseJSON(compilerflasher.generate_payload("autocomplete"));
						// fix position
						payload.position.row += 1;
						payload.position.column += 1;
						payload.prefix = prefix;
						$.post(
								"/utilities/autocomplete/",
								JSON.stringify(payload),
								function (data)
								{
									autocc = JSON.parse(data);
									if (autocc.success === false)
									{
										setOperationOutput(autocc.message);
										return;
									}
									results = JSON.parse(autocc.autocomplete);
									wordlist = [];
									for (i = 0; i < results.length; i++)
									{
										wordlist.push({
											'name': '',
											'value': results[i].v,
											'caption': results[i].c,
											'meta': results[i].m,
											'score': results[i].p
										});
									}
									callback(null, wordlist);
								}
						);
					}, 1500);
				}
			}
		};

		ace.require("ace/ext/language_tools");
		this.lineRange = ace.require("ace/range").Range;
		var aceEditor = ace.edit(editor);
		aceEditor.setTheme("ace/theme/textmate");
		aceEditor.setOptions({
			enableBasicAutocompletion: true
		});
		aceEditor.getSession().setUseSoftTabs(false);

		editorSyntaxHighlighter.setEditor(aceEditor);
		editorSyntaxHighlighter.loadCleanMode();
		editorSyntaxHighlighter.update();

		if (enableInEditorLibrarySearch) {
			editorLibrarySearch(aceEditor);
		}

		editorHeaderDetection(aceEditor, files);
		editorDummyHeaderDetection(aceEditor);

		aceEditor.getSession().on('change', function ()
		{
			editorSyntaxHighlighter.update();
			$("#line_count").html(aceEditor.getSession().getValue().split("\n").length);
		});

		/* replace the default completers from Ace with our own */
		aceEditor.completers = [this.cbenderCompleter];

		this.addCommands = function ()
		{
			aceEditor.commands.addCommand({
				name: 'saveFile',
				bindKey: {
					win: 'Ctrl-S',
					mac: 'Command-S',
					sender: 'editor|cli'
				},
				exec: function (env, args, request)
				{
					save();
				}
			});
			aceEditor.commands.addCommand({
				name: 'programmerUpload',
				bindKey: {
					win: 'Ctrl-Shift-U',
					mac: 'Command-Shift-U',
					sender: 'editor|cli'
				},
				exec: function (env, args, request)
				{
					compilerflasher.usbflashWithProgrammer();
				}
			});
			aceEditor.commands.addCommand({
				name: 'verifyFile',
				bindKey: {
					win: 'Ctrl-R',
					mac: 'Command-R',
					sender: 'editor|cli'
				},
				exec: function (env, args, request)
				{
					compilerflasher.verify();
				}
			});
			aceEditor.commands.addCommand({
				name: 'uploadFile',
				bindKey: {
					win: 'Ctrl-U',
					mac: 'Command-U',
					sender: 'editor|cli'
				},
				exec: function (env, args, request)
				{
					compilerflasher.usbflash();
				}
			});
			aceEditor.commands.addCommand({
				name: 'MyComments',
				bindKey: {
					win: 'Ctrl-/',
					mac: 'Command-/',
					sender: 'editor|cli'
				},
				exec: function (env, args, request)
				{
					aceEditor.toggleCommentLines();
				}
			});
			aceEditor.commands.addCommand({
				name: 'serialMonitor',
				bindKey: {
					win: 'Ctrl-Shift-M',
					mac: 'Command-Shift-M',
					sender: 'editor|cli'
				},
				exec: function (env, args, request)
				{
					compilerflasher.pluginHandler.connect();
				}
			});
			aceEditor.commands.addCommand({
				name: 'autoFormat',
				bindKey: {
					win: 'Ctrl-Alt-[',
					mac: 'Command-Alt-[',
					sender: 'editor|cli'
				},
				exec: function (env, args, request)
				{
					autoFormat();
				}
			});
		};

		this.setReadOnly = function (val)
		{
			if (val)
			{
				aceEditor.setShowPrintMargin(false);
				aceEditor.setOptions({
					readOnly: true,
					highlightActiveLine: false,
					highlightGutterLine: false
				});
				aceEditor.renderer.$cursorLayer.element.style.opacity = 0;

				$('.ace_active-line, .ace_gutter-active-line').css('opacity', 0);
				aceEditor.on('focus blur', function () {
					aceEditor.renderer.$cursorLayer.element.style.opacity = 0;
					$('.ace_active-line, .ace_gutter-active-line').css('opacity', 0);
				});

				window.editorReadOnly = true;
			}
			else
			{
				aceEditor.setShowPrintMargin(true);
				aceEditor.setOptions({
					readOnly: false,
					highlightActiveLine: true,
					highlightGutterLine: true
				});
				aceEditor.renderer.$cursorLayer.element.style.opacity = 1;
				$('.ace_active-line, .ace_gutter-active-line').css('opacity', 1);
				aceEditor.on('focus', function () {
					aceEditor.renderer.$cursorLayer.element.style.opacity = 1;
					$('.ace_active-line, .ace_gutter-active-line').css('opacity', 1);
				});
				aceEditor.on('blur', function () {
					aceEditor.renderer.$cursorLayer.element.style.opacity = 0;
					$('.ace_active-line, .ace_gutter-active-line').css('opacity', 0);
				});
				aceEditor.focus();
				window.editorReadOnly = false;
			}
		};

		this.state = {
			content: '',
			cursor: {row: 0, column: 0},
			folds: []
		};
		window.contextSwitch = false;

		var self = this;
		var content, cursor;

		aceEditor.session.on('change', function ()
		{
			if (!window.contextSwitch)
			{
				content = aceEditor.getSession().getValue();
				if (content && content != self.state.content)
				{
					self.state.content = content;
					fileManager.setContent(fileManager.openFname, self.state.content);
				}
			}
		});

		aceEditor.session.on('changeFold', function (event, t)
		{
			if (!window.contextSwitch)
			{
				if (event.action == 'add')
				{
					self.state.folds.push(event.data);
				}
				else if (event.action == 'remove')
				{
					for (var i = 0; i < self.state.folds.length; i++)
					{
						if (self.state.folds[i].start == event.data.start &&
							self.state.folds[i].end == event.data.end)
						{
							self.state.folds.splice(i, 1);
							break;
						}
					}
				}
				fileManager.setFolds(fileManager.openFname, self.state.folds);
			}
		});

		aceEditor.selection.on('changeCursor', function ()
		{
			if (!window.contextSwitch)
			{
				cursor = aceEditor.getSelection().getCursor();
				self.state.cursor = cursor;
				fileManager.setCursor(fileManager.openFname, self.state.cursor);
			}
		});

		this.setState = function (state, keepContent)
		{
			window.contextSwitch = true;
			if (!keepContent)
			{
				aceEditor.setValue(decodeHtml(state.content), 0);
				self.state.content = state.content;
				aceEditor.clearSelection();
			}

			setTimeout(function () {
				aceEditor.clearSelection();
				for (var i=0; i<state.folds.length; i++)
				{
					try
					{
						aceEditor.session.addFold(state.folds[i]);
					}
					catch (error) {}
				}
				self.state.folds = state.folds;
				aceEditor.moveCursorTo(state.cursor.row, state.cursor.column, false);
				self.state.cursor = state.cursor;
				window.contextSwitch = false;
			}, 100);
		};

		this.getLinesCount = function ()
		{
			return aceEditor.getSession().getValue().split('\n').length;
		};

		aceEditor.$blockScrolling = Infinity;
		myEditor = $.extend({}, aceEditor, this);
		return myEditor;
	};
</script>

<script>

var editorSyntaxHighlighter = ( function( ) {

    var ed = null;
    var loadedLibs = [ ];
    var cachedLibData = { } ;
    var libraryFiles = {};
    var personalLibraryFiles = {};
    var personalLibraries = [];

    var updateTimeout = null;

    function my( ) { }

    my.getPersonalLibraries = function () {
        $.ajax({
            url : "/utilities/personalLibraryFiles",
            type: "POST",
            dataType : "json"
        }).done(function(data) {
            if (!$.isEmptyObject(data)) {
                $.each(data, function (k, v) {
                    $.each(v, function (kk, vv) {
                        if (!(vv in personalLibraryFiles)) {
                            personalLibraryFiles[vv] = [];
                        }
                        personalLibraryFiles[vv].push({
                            'library': k,
                            'location': 'personal'
                        });
                    });
                    if (personalLibraries.indexOf(k) == -1) {
                        personalLibraries.push(k);
                    }
                });
            }
        });
    };
    my.getPersonalLibraries();

    my.setEditor = function( a ) {
        ed = a;
    };

    my.loadCleanMode = function( ) {

        window.codebenderModeLibrary = [ ];

        window.codebenderModeLibrary[ "keywords" ] = '';
        window.codebenderModeLibrary[ "builtinFunctions" ] = '';
        window.codebenderModeLibrary[ "builtinConstants" ] = '';

        ed.getSession().setMode({

            path : "ace/mode/arduino",
            v : Date.now()

        });
    }

    my.initLoadedLibs = function( ) {

        var oldLoadedLibs = loadedLibs;

        loadedLibs = [];

        var comments_re = /(?:\/\*(?:[\s\S]*?)\*\/)|(?:([\s;])+\/\/(?:.*)$)/gm;
        var text_body = ed.getSession().getValue();
        text_body = text_body.replace(comments_re, '');

        var allLines = text_body.split( "\n" );
        var totalLines = allLines.length;

        var re1 = /^\s*#\s*include\s*<([a-zA-Z0-9._\/\+\(\)]+)\.h>\s*/;
        var re2 = /^\s*#\s*include\s*"([a-zA-Z0-9._\/\+\(\)]+)\.h"\s*/;

        for( var lineNumber = 0; lineNumber < totalLines; lineNumber++ ) {

            var currentLine = allLines[ lineNumber ];

            var res1 = re1.exec( currentLine );
            var res2 = re2.exec( currentLine );

            if( res1 && loadedLibs.indexOf(res1[1]) == -1) {
                    loadedLibs.push( res1[ 1 ]);
                    continue;
            }

            if( res2 && loadedLibs.indexOf(res2[1]) == -1) {
                    loadedLibs.push( res2[ 1 ]);
            }

        }

        var flagSkipProcess = true;

        if( loadedLibs.length != oldLoadedLibs.length) {

            flagSkipProcess = false;

        }

        for( var i = 0; i < loadedLibs.length; i++ ){

            if( oldLoadedLibs.indexOf(loadedLibs[i]) == -1 ) {

                flagSkipProcess = false;
                break;

            }

        }

        if( ( ! flagSkipProcess ) || ( typeof window.codebenderModeLibrary === "undefined" ) ) {

            my.updateCachedLibData( );

        }

    }

    my.update = function( ) {

        if( updateTimeout !== null) {

            clearTimeout( updateTimeout );

        }

        updateTimeout = setTimeout( my.initLoadedLibs.bind( this ), 500);

    };

    my.updateCachedLibData = function( ) {

        var missingLibs = [ ];

        for( var i = 0; i < loadedLibs.length; i++ ) {

            if( !cachedLibData.hasOwnProperty(loadedLibs[i]) ) {

                missingLibs.push( loadedLibs[ i ] );

            }

        }

        if( missingLibs.length > 0) {

            $.ajax( {

                url : "/utilities/libraryKeywords",
                data: {
                    "libraryNames" : JSON.stringify( missingLibs )
                },
                type: "POST",
                dataType : "json"

            } ).done( function( data ) {

                if( data[ "success" ] === true ) {

                    for( var key in data[ "individualLibraries" ] ) {

                        if ( data[ "individualLibraries" ].hasOwnProperty( key ) ) {

                            // Double check...
                            if( !cachedLibData.hasOwnProperty( key ) ) {

                                cachedLibData[ key ] = data[ "individualLibraries" ][ key ];

                            }

                        }

                    }

                    for (var key in data['libraryFiles']) {
                        $.each(data['libraryFiles'][key], function (k, v) {
                            if (!$.isEmptyObject(v)) {
                                if (!(v.file_name in libraryFiles)) {
                                    libraryFiles[v.file_name] = [];
                                }
                                libraryFiles[v.file_name].push({
                                    'library': key,
                                    'location': v.location
                                });
                            }
                        });
                    }
                }

                my.triggerEditor( );

            });

        } else {

            my.triggerEditor( );

        }

    };

    my.triggerEditor = function( ) {

        var keywords = [ ];
        var builtinFunctions = [ ];
        var builtinConstants = [ ];

        for( var i = 0; i < loadedLibs.length; i++ ) {

            if( typeof cachedLibData[ loadedLibs[ i ] ] !== 'undefined' ) {

                var data = cachedLibData[ loadedLibs[ i ] ];

                if( ( data.length !== 'undefined' ) || ( data.length > 0 ) ) {

                    if( data.hasOwnProperty( 'keywords' ) ) {

                        keywords = keywords.concat( data[ 'keywords' ] );

                    }

                    if( data.hasOwnProperty( 'builtinFunctions' ) ) {

                        builtinFunctions = builtinFunctions.concat( data[ 'builtinFunctions' ] );

                    }

                    if( data.hasOwnProperty( 'builtinConstants' ) ) {

                        builtinConstants = builtinConstants.concat( data[ 'builtinConstants' ] );

                    }

                }

            }

        }

        keywords = my.deduplicateArray( keywords );
        builtinFunctions = my.deduplicateArray( builtinFunctions );
        builtinConstants = my.deduplicateArray( builtinConstants );

        window.codebenderModeLibrary = [ ];

        if( keywords.length > 0 ) {

           window.codebenderModeLibrary[ "keywords" ] = '|' + keywords.join( '|' );

        }else{

           window.codebenderModeLibrary["keywords"] = '';

        }

        if( builtinFunctions.length > 0 ) {

           window.codebenderModeLibrary[ "builtinFunctions" ] = '|' + builtinFunctions.join( '|' );

        }else{

           window.codebenderModeLibrary[ "builtinFunctions" ] = '';

        }

        if( builtinConstants.length > 0 ){

           window.codebenderModeLibrary[ "builtinConstants" ] = '|' + builtinConstants.join( '|' );

        }else{

           window.codebenderModeLibrary[ "builtinConstants" ] = '';

        }

        try {

            ed.getSession().setMode({

                path : "ace/mode/arduino",
                v : Date.now()

            });

        } catch( e ) {

           my.loadCleanMode();

        }

    };

    my.deduplicateArray=function(arr){

        var a = arr.concat();

        for( var i = 0; i < a.length; ++i ) {

            for( var j = i + 1; j < a.length; ++j ) {

                if( a[ i ] === a[ j ] ) {

                   a.splice( j-- , 1 );

                }

            }

        }

        return a;

    }

    my.getLoadedLibs = function () {
        return loadedLibs;
    }

    my.getLibraryFiles = function () {
        return libraryFiles;
    }

    my.getPersonalLibraries = function () {
        return personalLibraries;
    }

    my.getPersonalLibraryFiles = function () {
        return personalLibraryFiles;
    }

    my( );

    return( my );

} )( );


/* In-editor library search */
editorLibrarySearch = function (editor) {
    var ed = editor;
    var $editor = $('#editor');

    var Range = ace.require('ace/range').Range;

    var marker = {
        id: null,
        row: null,
        t_start: null,
        t_end: null
    };

    var re_constant = /\s*<([a-zA-Z0-9._\/\+\(\)]+)>\s*/;
    var re_string = /\s*"([a-zA-Z0-9._\/\+\(\)]+)"\s*/;
    var re_line_system = /(\s*#\s*include\s+<)([a-zA-Z0-9._\/\+\(\)]+)>\s*/;
    var re_line_user = /(\s*#\s*include\s+")([a-zA-Z0-9._\/\+\(\)]+)"\s*/;

    var tooltip = {};
    tooltip.type = null;
    tooltip.mac = '<p><kbd></kbd><span>+</span><i class="cb-icon-mouse-click"></i> <span>to view file</span></p>';
    tooltip.other = '<p><kbd>Ctrl</kbd><span>+</span><i class="cb-icon-mouse-click"></i> <span>to view file</span></p>';
    tooltip.not_found = 'File not detected'
    tooltip.tag = null;
    tooltip.mode = null;
    var popover = {};
    popover.content = null;
    popover.title = null;
    popover.enabled = false;

    var interval = window.setInterval(function () {
        if (typeof window.BrowserDetect !== 'undefined') {
            window.clearInterval(interval);
            if(window.BrowserDetect.OS == 'Mac') {
                tooltip.type = 'mac';
            }
            else {
                tooltip.type = 'other';
            }
        }
    }, 100);

    var tooltip_template = '<div class="tooltip library-search-tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>';

    var tooltips = [];
    var popovers = [];
    var libraries = {};
    var loadedLibs = {};
    var personalLibraries = {};
    var files = {};
    var position = {};
    var header = null;
    var header_name = null;
    var mode = null;
    var modifier = false;
    var enabled = false;
    var popover_libraries = [];
    var library_mode = null;

    var my = {};

    my.check = function(e) {
        libraries = editorSyntaxHighlighter.getLibraryFiles();
        loadedLibs = editorSyntaxHighlighter.getLoadedLibs();
        personalLibraries = editorSyntaxHighlighter.getPersonalLibraries();
        personalLibraryFiles = editorSyntaxHighlighter.getPersonalLibraryFiles();

        files = fileManager.getFiles();

        position = e.getDocumentPosition();
        var token = ed.getSession().getTokenAt(position.row, position.column);
        var flag = false;
        if (token !== null) {
            header = null;
            var check = null;
            var t_start = null;
            var t_end = null;

            if (token.type == 'constant') {
                check = re_constant.exec(token.value);
                if (check !== null) {
                    header = check[1];
                    t_start = token.start+1;
                    t_end = t_start+header.length;
                }
                mode = 'system';
            }
            else if (token.type == 'string') {
                check = re_string.exec(token.value);
                if (check !== null) {
                    header = check[1];
                    t_start = token.start+1;
                    t_end = t_start+header.length;
                }
                mode = 'project';
            }
            else if (token.type == 'comment' || token.type == 'comment.doc') {
                // Do nothing with commented code
            }
            else {
                var cur_line = ed.getSession().getLine(position.row);
                check = re_line_system.exec(cur_line);
                if (check !== null) {
                    header = check[2];
                    t_start = check[1].length;
                    t_end = t_start+header.length;
                    mode = 'system';
                }
                else {
                    check = re_line_user.exec(cur_line);
                    if (check !== null) {
                        header = check[2];
                        t_start = check[1].length;
                        t_end = t_start+header.length;
                        mode = 'project';
                    }
                }
            }

            if (header !== null) {
                popover_libraries = [];
                header_name = header.replace('\.h', '');
                tooltip.mode = 'not_found';
                library_mode = 'not_found';
                if (mode == 'system') {
                    if (header in personalLibraryFiles) {
                        var found = false;
                        $.each(personalLibraryFiles[header], function (k, v) {
                            if (personalLibraries.indexOf(v.library) > -1) {
                                popover_libraries.push(v);
                                found = true;
                            }
                        });
                        if (found) {
                            tooltip.mode = 'found';
                            library_mode = 'personal';
                        }
                    }
                    if (header in libraries) {
                        var found = false;
                        $.each(libraries[header], function (k, v) {
                            if (loadedLibs.indexOf(v.library) > -1) {
                                popover_libraries.push(v);
                                found = true;
                            }
                        });
                        if (found) {
                            tooltip.mode = 'found';
                            library_mode = 'system';
                        }
                    }
                }
                else if (mode == 'project') {
                    if (header in files) {
                        popover_libraries.push({
                            library: header,
                            location: 'sketch'
                        });
                        tooltip.mode = 'found';
                        library_mode = 'project';
                    }
                    if (header in personalLibraryFiles) {
                        var found = false;
                        $.each(personalLibraryFiles[header], function (k, v) {
                            if (personalLibraries.indexOf(v.library) > -1) {
                                popover_libraries.push(v);
                                found = true;
                            }
                        });
                        if (found) {
                            tooltip.mode = 'found';
                            library_mode = 'personal';
                        }
                    }
                    if (header in libraries) {
                        var found = false;
                        $.each(libraries[header], function (k, v) {
                            if (loadedLibs.indexOf(v.library) > -1) {
                                popover_libraries.push(v);
                                found = true;
                            }
                        });
                        if (found) {
                            tooltip.mode = 'found';
                            library_mode = 'system';
                        }
                    }
                }

                if (position.column >= t_start && position.column <= t_end) {
                    flag = true;
                }
            }
        }

        if (flag) {
            if (tooltip.mode == 'found') {
                if (!popover.enabled) {
                    my.addMarker(position, t_start, t_end);
                    enabled = true;
                }
            }
            else if (tooltip.mode == 'not_found') {
                my.removeMarker();
                enabled = false;
            }

            if (marker.row != position.row) {
                marker.row = position.row;
                if (!popover.enabled) {
                    my.addTooltip(position.row);
                }
            }
        }
        else {
            marker.row = null;
            my.clearTooltips();
            my.removeMarker();
            enabled = false;
        }
    }

    my.addMarker = function(position, t_start, t_end) {
        if (marker.id !== null) {
            my.removeMarker();
        }

        var row = position.row;
        var range = new Range(row, t_start, row, t_end);
        marker.id = ed.getSession().addMarker(range, 'library-search-marker', 'text');

        $editor.find('.library-search-row').removeClass('library-search-row');

        var start = ed.getFirstVisibleRow();
        var diff = row - start;
        var row_tag = $editor.find('.ace_line')[diff];
        $(row_tag).addClass('library-search-row');

        ed.setOption('enableMultiselect', false);
    }

    my.removeMarker = function() {
        if (marker.id !== null) {
            ed.getSession().removeMarker(marker.id);
        }

        marker.id = null;

        $editor.find('.library-search-row').removeClass('library-search-row');
        ed.setOption('enableMultiselect', true);
    }

    my.addTooltip = function (row) {
        if (tooltips.length != 0) {
            my.clearTooltips();
        }

        var col = ed.getSession().getLine(row).length;
        var coords = ed.renderer.textToScreenCoordinates(row, col);

        if (tooltip.mode == 'found') {
            if (tooltip.type == 'mac') {
                tooltip.tag = tooltip.mac;
            }
            else {
                tooltip.tag = tooltip.other;
            }
        }
        else if (tooltip.mode == 'not_found') {
            tooltip.tag = tooltip.not_found;
        }

        var start = ed.getFirstVisibleRow();
        var diff = row - start;
        var row_tag = $editor.find('.ace_line')[diff];
        $(row_tag).tooltip({
            html: true,
            placement: 'right',
            title: tooltip.tag,
            container: 'body',
            template: tooltip_template,
            delay: {show: 500, hide: 0}
        }).tooltip('show');

        tooltips.push(row_tag);

        $('.library-search-tooltip').css({
            'left': coords.pageX+5+'px',
            'top': coords.pageY-10+'px'
        });

        if (tooltip.mode == 'not_found') {
            $('.library-search-tooltip').addClass('library-not-found');
        }
    }

    my.clearTooltips = function () {
        $.each(tooltips, function (k, v) {
            $(v).tooltip('destroy');
        });

        tooltips = [];
    }

    my.addPopover = function (current_header) {
        var content = '';
        var sketch = [];
        var personal = [];
        var system = [];
        $.each(popover_libraries, function (k, v) {
            var tag = '<a class="btn btn-mini library-search-popover-button" href="javascript:void(0);" data-target="'+v.library+'" data-location="'+v.location+'" data-header="'+current_header+'">'+v.library+'</a>';
            if (v.location == 'sketch') {
                sketch.push(tag);
            }
            else if (v.location == 'personal') {
                personal.push(tag);
            }
            else {
                system.push(tag);
            }
        });
        if (sketch.length > 0) {
            content += '<tr class="library-search-category"><td class="library-search-category-title">Sketch</td><td class="library-search-category-content">'+sketch.join(' ')+'</td><tr/>';
        }
        if (personal.length > 0) {
            content += '<tr class="library-search-category"><td class="library-search-category-title">Personal libraries</td><td class="library-search-category-content">'+personal.join(' ')+'</td><tr/>';
        }
        if (system.length > 0) {
            content += '<tr class="library-search-category"><td class="library-search-category-title">Codebender libraries</td><td class="library-search-category-content">'+system.join(' ')+'</td><tr/>';
        }
        popover.content = '<div class="library-search-popover-content"><table>' + content + '</table></div>';
        popover.title = '<a class="library-search-popover-close pull-right" href="javascript:void(0);">&times;</a><p class="library-search-popover-title">File found in</p>';
        popover.enabled = true;

        var row = position.row;
        var col = ed.getSession().getLine(row).length;
        var coords = ed.renderer.textToScreenCoordinates(row, col);

        var start = ed.getFirstVisibleRow();
        var diff = row - start;
        var row_tag = $editor.find('.ace_line')[diff];
        $(row_tag).popover({
            html: true,
            placement: 'right',
            title: popover.title,
            content: popover.content,
            container: 'body',
            delay: {show: 500, hide: 0},
            trigger: 'manual'
        }).popover('show');

        popovers.push(row_tag);

        $('.popover').css({
            'left': coords.pageX+5+'px'
        });

        $('.library-search-popover-close').on('click', function (e) {
            $(row_tag).popover('hide').popover('destroy');
        });

        $('.library-search-popover-button').on('click', function (e) {
            e.preventDefault();
            e.stopPropagation();
            var lib = $(this).data('target');
            var location = $(this).data('location');
            var target_header = $(this).data('header');

            my.clearPopovers();

            my.log_library_search(lib, location, target_header, true);

            if (location == 'sketch') {
                selectFile(target_header);
            }
            else {
                var w = window.open('', lib);
                w.focus();
                $.post(
                    '/library_search',
                    {'library': lib, 'location': location, 'header': target_header},
                    function (data, textStatus, jqXHR) {
                        if (data.status) {
                            w.location = data.url;
                        }
                    },
                    'json'
                );
            }
        });
    }

    my.clearPopovers = function () {
        $.each(popovers, function (k, v) {
            $(v).popover('destroy');
        });

        popovers = [];
        popover.enabled = false;
    }

    my.log_library_search = function (library, source, header, in_multiple) {
        var msg;
        if (in_multiple === undefined) {
            msg = {
                'Library': library,
                'Library source': source,
                'Library header': header
            };
        }
        else {
            msg = {
                'Library': library,
                'Library source': source,
                'Library header': header,
                'In multiple libraries': in_multiple
            };
        }

        var actionId = 76;
        var metaData = {
            "message" : msg
        };
        createLog(actionId, metaData);
    }

    ed.on('mousemove', function(e) {
        my.check(e);

        if (enabled && modifier) {
            $editor.find('.ace_content').addClass('library-search-enabled');
        }
        else {
            $editor.find('.ace_content').removeClass('library-search-enabled');
        }
    });

    ed.on('mousedown', function(e) {
        my.clearTooltips();
        my.clearPopovers();
        var current_header = header;
        if (modifier && enabled) {
            ed.setOption('enableMultiselect', false);

            if (library_mode == 'project' && header in files) {
                if (popover_libraries.length > 1) {
                    my.addPopover(current_header);
                }
                else {
                    var lib = 'Project_'+$('#editor_heading_project_name').text();
                    my.log_library_search(lib, 'sketch', header);

                    selectFile(header);
                }
            }
            else if (library_mode == 'personal' && header in personalLibraryFiles) {

                if (popover_libraries.length > 1) {
                    my.addPopover(current_header);
                }
                else {
                    var lib = popover_libraries[0].library;
                    var location = popover_libraries[0].location;

                    my.log_library_search(lib, location, header);

                    var w = window.open('', lib);
                    w.focus();
                    $.post(
                        '/library_search',
                        {'library':lib, 'location': location, 'header': header},
                        function (data, textStatus, jqXHR) {
                            if (data.status) {
                                w.location = data.url;
                            }
                        },
                        'json'
                    );
                }
            }
            else if (library_mode == 'system' && header in libraries) {
                if (popover_libraries.length > 1) {
                    my.addPopover(current_header);
                }
                else {
                    var lib = popover_libraries[0].library;
                    var location = popover_libraries[0].location;

                    my.log_library_search(lib, location, header);

                    var w = window.open('', lib);
                    w.focus();
                    $.post(
                        '/library_search',
                        {'library':lib, 'location': location, 'header': header},
                        function (data, textStatus, jqXHR) {
                            if (data.status) {
                                w.location = data.url;
                            }
                        },
                        'json'
                    );
                }
            }
        }
        else {
            ed.setOption('enableMultiselect', true);
        }
    });

    ed.getSelection().on('changeCursor', function (e) {
        if (enabled && ed.$mouseHandler.isMousePressed) {
            ed.getSelection().moveCursorTo(position.row, position.column, true);
        }
    });

    ed.getSelection().on('changeSelection', function (e) {
        if (enabled && modifier) {
            ed.getSession().getSelection().clearSelection();
            $(window).trigger('library_search_off');
        }
    });

    ed.getSession().on('changeScrollTop', function (e) {
        my.removeMarker();
        my.clearTooltips();
        my.clearPopovers();
    });

    $editor.on('mouseout', function(e) {
        marker.row = null;
        my.removeMarker();
        my.clearTooltips();
        $editor.find('.library-search-row').removeClass('library-search-row');
        $editor.find('.ace_content').removeClass('library-search-enabled');
        ed.setOption('enableMultiselect', true);
        enabled = false;
    })
    .on('dblclick', function (e) {
        if (enabled) {
            ed.getSelection().selectAWord();
        }
    })
    .on('keydown', function (e) {
	    if (e.keyCode == 17)
	    {
		    $(window).trigger('library_search_on');
	    }
    });

    $(window).on('library_search_on', function (e) {
        modifier = true;
        if (enabled) {
            $editor.find('.ace_content').addClass('library-search-enabled');
        }
    })
    .on('library_search_off', function (e) {
        modifier = false;
        $editor.find('.ace_content').removeClass('library-search-enabled');
    });

    $('#container_left').on('click', function (e) {
        my.clearPopovers();
    });

    return my;

};

editorHeaderDetection = function (editor, files) {
    var _editor = editor;

    var my = {};

    my.cache = {};
    my.fname = null;

    my.decodeHtml = function htmlEntities (str) {
        return String(str)
            .replace(/&amp;/g, '&')
            .replace(/&lt;/g, '<')
            .replace(/&gt;/g,'>')
            .replace(/&quot;/g, '"');
    };

    my.log = function () {
        var actionId = 82;
        var metaData = {
            "message": my.cache
        };
        createLog(actionId, metaData);
    };

    my.jsObjClone = function (obj) {
        var objcopy = {};
        for (var i in obj) {
            if (obj.hasOwnProperty(i))
                objcopy[i] = obj[i];
        }
        return objcopy;
    };

    my.checkCache = function (a, b) {
        aProps = Object.keys(a);
        bProps = Object.keys(b);

        if (aProps.length != bProps.length) {
            return false;
        }

        for (var i = 0; i < aProps.length; i++) {
            var propName = aProps[i];
            if (a[propName].length != b[propName].length) {
                return false;
            }
            if (!a[propName].every(function (element, index) {
                return element === b[propName][index];
            })) {
                return false;
            }
        }

        return true;
    };

    my.findHeaders = function (text_body) {
        var text_lines = text_body.split('\n');
        var line_count = text_lines.length;

        var re_header = /^[\/\*\s]*#\s*include\s*[<"]{1}\s*([a-zA-Z0-9_+\/]*\.h)\s*[>"]{1}[\s\/\*]*/;

        var headers = [];
        for(var i=0; i<line_count; i++) {
            if (re_header.test(text_lines[i])) {
                var library = re_header.exec(text_lines[i])[1];
                if (headers.indexOf(library) == -1) {
                    headers.push(library);
                }
            }
        }

        return headers;
    };

    my.update = function () {
        var cache = my.jsObjClone(my.cache);
        var text_body = _editor.getSession().getValue();
        var headers = my.findHeaders(text_body);
        cache[my.fname] = headers;

        if (!my.checkCache(cache, my.cache)) {
            my.cache = cache;
            my.log();
        }
    };

    _editor.getSession().on('change', function (e) {
       setTimeout(function () {
            my.update();
       }, 50);
    });

    eventManager.addListener("selectFile", function (param) {
        my.fname = param;
    });

    eventManager.addListener("addFile", function (param1, param2) {
        if (!my.cache.hasOwnProperty(param1)) {
            var cache = my.jsObjClone(my.cache);
            cache[param1] = my.findHeaders(my.decodeHtml(param2));
            if (!my.checkCache(cache, my.cache)) {
                my.cache = cache;
                my.log();
            }
        }
    });

    eventManager.addListener("removeFile", function (param) {
        if (my.cache.hasOwnProperty(param)) {
            delete my.cache[param];
            my.log();
        }
    });

    eventManager.addListener("renameFile", function (param1, param2) {
        if (my.cache.hasOwnProperty(param1)) {
            my.cache[param2] = my.cache[param1];
            delete my.cache[param1];
            my.log();
        }
    });

    var triggerLog = false;
    $.each(files, function (k, v) {
        var content = my.decodeHtml(v);
        var headers = my.findHeaders(content);
        if (headers.length > 0) {
            triggerLog = true;
        }
        if (!my.cache.hasOwnProperty(k)) {
            my.cache[k] = headers;
        }
    });

    if (triggerLog) {
        my.log();
    }

    return my;
};

editorDummyHeaderDetection = function (editor) {
    var _editor = editor;

    var my = {};

    my.cache = {};

    my.log = function () {
        var actionId = 83;
        var metaData = {
            "message": Object.keys(my.cache)
        };
        createLog(actionId, metaData);
    };

    my.jsObjEquals = function (obj1, obj2) {
        for (var i in obj1) {
            if (!obj2.hasOwnProperty(i)) return false;
            if (obj1[i] != obj2[i]) return false;
        }
        for (var i in obj2) {
            if (!obj1.hasOwnProperty(i)) return false;
            if (obj1[i] != obj2[i]) return false;
        }
        return true;
    };

    my.update = function () {
        var cache = {};
        var text_body = _editor.getSession().getValue();
        var text_lines = text_body.split('\n');
        var line_count = text_lines.length;

        var re_header = /^[\/\*\s]*#\s*include\s*[<"]{1}\s*(.+\.h)\s*[>"]{1}[\s\/\*]*/;

        var headers = [];
        for(var i=0; i<line_count; i++) {
            if (re_header.test(text_lines[i])) {
                var library = re_header.exec(text_lines[i])[1];
                if (!cache.hasOwnProperty(library)) {
                    cache[library] = true;
                }
            }
        }

        if (!my.jsObjEquals(cache, my.cache)) {
            my.cache = cache;
            my.log();
        }
    };

    _editor.getSession().on('change', function (e) {
       setTimeout(function () {
            my.update();
       }, 50);
    });

    return my;
};

</script>


<script type="text/javascript">

    function noQuote( text )
    {
        return text.replace(/'/g, "\\x27")
    }

    function populate(input)
    {
        var files = input["files"];
        files.sort(function(a, b) {
            return String.naturalCompare(a.filename.toLowerCase(), b.filename.toLowerCase());
        });
        var loadedFiles = {};
	    var fileList = [];
	    var ino_re = /^.+\.ino$/;
        var fname, div_tag;
	    for(var i = 0; i < files.length; i++)
        {
	        fname = files[i]["filename"];
            loadedFiles[fname] = files[i]["code"];
	        div_tag = '<div class="file" for="codeBender_embed_file'+i+'" onclick=\'changeHash("'+noQuote(fname)+'")\'> <span class="name">'+fname+'</span> </div>';
	        if (ino_re.test(fname))
	        {
		        $("#file_list").prepend(div_tag);
		        fileList.splice(0, 0, fname);
	        }
			else
	        {
		        $("#file_list").append(div_tag);
		        fileList.push(fname);
	        }
        }

        fileManager = new fileManager(loadedFiles);
        editor = new editor("codeBender_embed_codeWrapper", loadedFiles);

	    var checkChromeOsInterval = setInterval(function () {
		    if (typeof window.useChromeApp !== 'undefined') {
			    clearInterval(checkChromeOsInterval);

			    if (window.useChromeApp()) {
				    setOperationOutputMessage('Searching for app ...');
				    compilerflasher = new compilerflasher_new(function(){return fileManager.getFiles();});
				    compilerflasher.pluginHandler.browserSpecificPluginInstall = function (alert) {
					    alert += ' plugin or app. <a target="_blank" href="https://codebender.cc/static/plugin" >Learn more.</a>';
					    return alert;
				    };
			    }
			    else {
				    setOperationOutputMessage('Searching for plugin ...');
				    compilerflasher = new compilerflasher(function(){return fileManager.getFiles();});
			    }

			    compilerflasher.on("plugin_running", function(){
				    compilerflasher.setOperationOutput("Select your device, the correct port, and click Run.");
			    });
			    compilerflasher.on('verification_failed', function () {
				    var savedState = fileManager.savedState;
				    var currentState = fileManager.getFiles();
				    if (!checkObjEquals(savedState, currentState)) {
					    var actionId = 88;
					    var metaData = {
						    'edited': true
					    };
					    createLog(actionId, metaData);
				    }
			    });
			    compilerflasher.selectedProgrammer = {
				    communication: "",
				    delay: "0",
				    force: "false",
				    name: "USBtinyISP",
				    protocol: "usbtiny",
				    speed: "0"
			    };
		    }
	    }, 500);

        editor.setReadOnly(true);

	    var type = 'sketch';
	    
	    $('#edit-button').on('click', function () {
			if (window.editorReadOnly) {
				$(this).attr('title', 'Restore '+type+' to its original state').tooltip('fixTitle');
				$(this).html('<i class="icon-undo"></i> Restore');
				editor.setReadOnly(false);
			}
		    else {
				for (var fname in loadedFiles) {
					fileManager.setContent(fname, loadedFiles[fname]);
				}
				fileManager.openFile(fileManager.openFname);
				$(this).attr('title', 'Temporarily edit the '+type).tooltip('fixTitle');
				$(this).html('<i class="icon-edit"></i> Edit');
				editor.setReadOnly(true);
			}
	    })
	    .tooltip({
		    placement: 'bottom',
		    title: 'Temporarily edit the ' + type
	    });

	    $(".projectName").html("<a href='"+input["project"]["url"]+"'>"+input["project"]["name"]+"</a>");

	    
        $(".userName").html("<a href='"+input["user"]["url"]+"'>"+input["user"]["name"]+"</a>");

        $(".download-link").attr("href", input["download_url"])
		        .on('click', function () {
			        var savedState = fileManager.savedState;
			        var currentState = fileManager.getFiles();
			        if (!checkObjEquals(savedState, currentState)) {
				        alert('You have made changes that will not be included into your download');
			        }
		        });
	    		    $(".clone-link").addClass("clone-link-inactive")
                            .attr("title", "Sign up to clone!")
                            .attr("href", "/");
	    	    $('.clone-link').on('click', function () {
		    var savedState = fileManager.savedState;
		    var currentState = fileManager.getFiles();
		    if (!checkObjEquals(savedState, currentState)) {
			    alert('You have made changes that will not be included into your cloned project');
		    }
	    });

	    var queryParameters = {};
	    (window.onpopstate = function () {
		    var match;
		    var search = /([^&=]+)=?([^&]*)/g;
		    var query = window.location.search.substring(1);

		    while (match = search.exec(query)) {
			    queryParameters[match[1]] = match[2];
		    }
	    })();

	    if (!queryParameters.hasOwnProperty('referrer')) {
		    		        queryParameters.referrer = input['user']['name'];
		    	    }

	    var queryStringArray = [];
	    for (var key in queryParameters) {
		    queryStringArray.push(key+'='+queryParameters[key]);
	    }
	    var queryString = queryStringArray.join('&');

	    if (queryString) {
		    $('.clone-link').attr('href', $('.clone-link').attr('href') + '?' + queryString);
		    $('.download-link').attr('href', $('.download-link').attr('href') + '?' + queryString);
		    $('.projectName a').attr('href', $('.projectName a').attr('href') + '?' + queryString);
		    $('.userName a').attr('href', $('.userName a').attr('href') + '?' + queryString);
	    }

	    window.height = parseInt($("#codeBender_embed_wrapper").css("height")) - parseInt($("#codeBender_embed_header").css("height")) - parseInt($("#codeBender_embed_footer").css("height"));
        $("#codeBender_embed_codeContainer").css("height", height-2);
        $("#codeBender_embed_codeWrapper").css("height", height-2);
        $(".codeBender_embed_file").css("height", height-2);

        if(files.length > 1)
        {
	        sidebarToggle();
        }
        else
        {
	        $("#sidebar-toggle").remove();
        }

	    return fileList;
    }

    function selectFile(file)
    {
	    if (file == fileManager.openFname)
	    {
		    return;
	    }

        $(".file").removeClass("file-selected");

        $(".file").each(function(k, v)
        {
            if($(this).children("span.name").html().trim() == file) {
                var top = $(v).position().top;
                if (top >= 0 && top <= height) {
                    // Element inside viewport. Do nothing.
                }
                else {
                    var scroll = $('#codeBender_embed_sidebar').scrollTop();
                    if (top > 0) {
                        $('#codeBender_embed_sidebar').animate({scrollTop: top}, 500);
                    }
                    else {
                        $('#codeBender_embed_sidebar').animate({scrollTop: scroll - Math.abs(top)}, 500);
                    }
                }
                $(this).addClass("file-selected");
            }
        });

	    logFile(file);
	    fileManager.openFile(file);
    }

    function changeHash(file) {
        hash = encodeURIComponent(file);
        $.bbq.pushState(hash, 2);
    }

    function sidebarOpen()
    {
        $("#codeBender_embed_sidebar").animate({'width':200},400, function () {
            var files = $("#file_list > .file > .name");
            var max_width = 200;
            $.each(files, function (k, v) {
                var width = $(v).width();
                if (width > max_width) {
                    max_width = width;
                }
            });
            max_width = max_width+'px';
            $("#file_list > .file").css({
                'min-width': max_width
            });
        });
        $("#codeBender_embed_codeContainer").animate({left:200},400);
        editor.resize();
    }

    function sidebarClose()
    {
        $("#codeBender_embed_sidebar").animate({width: 0},400);
        $("#codeBender_embed_codeContainer").animate({left: 0},400);
        editor.resize();
    }

    function sidebarToggle()
    {
        if(parseInt($("#codeBender_embed_sidebar").width()) == 0)
            sidebarOpen();
        else
            sidebarClose();

        if($("#sidebar-toggle").attr("src") == "/images/sidebar-open.png") {
	        $("#sidebar-toggle").attr("src", "/images/sidebar-close.png");
        }
        else {
	        $("#sidebar-toggle").attr("src", "/images/sidebar-open.png");
        }
    }

    function logFile(file)
    {
        var actionId;
        var metaData;
                    actionId = 80;
            var jsonData = {"project":{"name":"ML8511 Example","url":"https:\/\/codebender.cc\/sketch:30707"},"user":{"name":"sparkfun","url":"https:\/\/codebender.cc\/user\/sparkfun"},"clone_url":"https:\/\/codebender.cc\/utilities\/clone\/30707","download_url":"https:\/\/codebender.cc\/utilities\/download\/30707","star_url":"https:\/\/codebender.cc\/utilities\/togglestarproject\/30707","files":[{"filename":"ML8511 Example.ino","code":"\/* \r\n ML8511 UV Sensor Read Example\r\n By: Nathan Seidle\r\n SparkFun Electronics\r\n Date: January 15th, 2014\r\n License: This code is public domain but you buy me a beer if you use this and we meet someday (Beerware license).\r\n \r\n The ML8511 UV Sensor outputs an analog signal in relation to the amount of UV light it detects.\r\n \r\n Connect the following ML8511 breakout board to Arduino:\r\n 3.3V = 3.3V\r\n OUT = A0\r\n GND = GND\r\n EN = 3.3V\r\n 3.3V = A1\r\n These last two connections are a little different. Connect the EN pin on the breakout to 3.3V on the breakout.\r\n This will enable the output. Also connect the 3.3V pin of the breakout to Arduino pin 1.\r\n \r\n This example uses a neat trick. Analog to digital conversions rely completely on VCC. We assume\r\n this is 5V but if the board is powered from USB this may be as high as 5.25V or as low as 4.75V:\r\n http:\/\/en.wikipedia.org\/wiki\/USB#Power Because of this unknown window it makes the ADC fairly inaccurate\r\n in most cases. To fix this, we use the very accurate onboard 3.3V reference (accurate within 1%). So by doing an\r\n ADC on the 3.3V pin (A1) and then comparing this against the reading from the sensor we can extrapolate\r\n a true-to-life reading no matter what VIN is (as long as it's above 3.4V).\r\n \r\n Test your sensor by shining daylight or a UV LED: https:\/\/www.sparkfun.com\/products\/8662\r\n\r\n This sensor detects 280-390nm light most effectively. This is categorized as part of the UVB (burning rays)\r\n spectrum and most of the UVA (tanning rays) spectrum.\r\n \r\n There's lots of good UV radiation reading out there:\r\n http:\/\/www.ccohs.ca\/oshanswers\/phys_agents\/ultravioletradiation.html\r\n https:\/\/www.iuva.org\/uv-faqs\r\n \r\n*\/\r\n\r\n\/\/Hardware pin definitions\r\nint UVOUT = A0; \/\/Output from the sensor\r\nint REF_3V3 = A1; \/\/3.3V power on the Arduino board\r\n\r\nvoid setup()\r\n{\r\n  Serial.begin(9600);\r\n\r\n  pinMode(UVOUT, INPUT);\r\n  pinMode(REF_3V3, INPUT);\r\n\r\n  Serial.println(&quot;ML8511 example&quot;);\r\n}\r\n\r\nvoid loop()\r\n{\r\n  int uvLevel = averageAnalogRead(UVOUT);\r\n  int refLevel = averageAnalogRead(REF_3V3);\r\n  \r\n  \/\/Use the 3.3V power pin as a reference to get a very accurate output value from sensor\r\n  float outputVoltage = 3.3 \/ refLevel * uvLevel;\r\n  \r\n  float uvIntensity = mapfloat(outputVoltage, 0.99, 2.8, 0.0, 15.0); \/\/Convert the voltage to a UV intensity level\r\n\r\n  Serial.print(&quot;output: &quot;);\r\n  Serial.print(refLevel);\r\n\r\n  Serial.print(&quot;ML8511 output: &quot;);\r\n  Serial.print(uvLevel);\r\n\r\n  Serial.print(&quot; \/ ML8511 voltage: &quot;);\r\n  Serial.print(outputVoltage);\r\n\r\n  Serial.print(&quot; \/ UV Intensity (mW\/cm^2): &quot;);\r\n  Serial.print(uvIntensity);\r\n  \r\n  Serial.println();\r\n  \r\n  delay(100);\r\n}\r\n\r\n\/\/Takes an average of readings on a given pin\r\n\/\/Returns the average\r\nint averageAnalogRead(int pinToRead)\r\n{\r\n  byte numberOfReadings = 8;\r\n  unsigned int runningValue = 0; \r\n\r\n  for(int x = 0 ; x &lt; numberOfReadings ; x++)\r\n    runningValue += analogRead(pinToRead);\r\n  runningValue \/= numberOfReadings;\r\n\r\n  return(runningValue);  \r\n}\r\n\r\n\/\/The Arduino Map function but for floats\r\n\/\/From: http:\/\/forum.arduino.cc\/index.php?topic=3922.0\r\nfloat mapfloat(float x, float in_min, float in_max, float out_min, float out_max)\r\n{\r\n  return (x - in_min) * (out_max - out_min) \/ (in_max - in_min) + out_min;\r\n}"}],"isStarred":false,"stars":0};

            var projectId;
            try {
                var projectUrl = jsonData.project.url.split(':');
                projectId = projectUrl[projectUrl.length-1];
            }
            catch (error) {
                projectId = null;
            }

            var projectName;
            try {
                projectName = jsonData.project.name;
            }
            catch (error) {
                projectName = null;
            }

            metaData = {
                'Project ID': projectId,
                'Project Name': projectName,
                'File': file
            };
        
        createLog(actionId, metaData);
    }

    
</script>
<script type="text/javascript">
    $(document).ready(function () {
        var iframeFlag = false;
        var checkIframe = (window.location != window.parent.location) ? true : false;
        if (checkIframe) {
            var parentReferrer = document.referrer;
            var host = "https://codebender.cc";
            if (parentReferrer.indexOf(host) == 0) {
                iframeFlag = true;
            }
        }

        if (iframeFlag) {
            $(window).on('hashchange', function (e) {
                var hash = $.param.fragment();
                window.parent.location.hash = hash;
                $(window.parent).trigger('hashchange');
            });
            $(window.parent).on('hashchange', function (e) {
                var hash = $.param.fragment();

                if (hash) {
                    selectFile(decodeURIComponent(hash));
                }
            });
        }
        else {
            $(window).on('hashchange', function (e) {
                var hash = $.param.fragment();

                if (hash) {
                    selectFile(decodeURIComponent(hash));
                }
            });
        }

        function init_hash (fileList) {
            if (fileList.length == 1) {
                selectFile(fileList[0]);
            }
            else {
                var hash = null;
                if (iframeFlag) {
                    hash = window.parent.location.hash;
                }
                else {
                    hash = $.param.fragment();
                }

                if (hash) {
                    if (iframeFlag) {
                        $.bbq.pushState(hash, 2);
                    }
                    else {
                        $(window).trigger('hashchange');
                    }
                }
                else {
                    hash = encodeURIComponent(fileList[0]);
                    $.bbq.pushState(hash, 2);
                }
            }
        }

        var input = JSON.parse("{\"project\":{\"name\":\"ML8511 Example\",\"url\":\"https:\\\/\\\/codebender.cc\\\/sketch:30707\"},\"user\":{\"name\":\"sparkfun\",\"url\":\"https:\\\/\\\/codebender.cc\\\/user\\\/sparkfun\"},\"clone_url\":\"https:\\\/\\\/codebender.cc\\\/utilities\\\/clone\\\/30707\",\"download_url\":\"https:\\\/\\\/codebender.cc\\\/utilities\\\/download\\\/30707\",\"star_url\":\"https:\\\/\\\/codebender.cc\\\/utilities\\\/togglestarproject\\\/30707\",\"files\":[{\"filename\":\"ML8511 Example.ino\",\"code\":\"\\\/* \\r\\n ML8511 UV Sensor Read Example\\r\\n By: Nathan Seidle\\r\\n SparkFun Electronics\\r\\n Date: January 15th, 2014\\r\\n License: This code is public domain but you buy me a beer if you use this and we meet someday (Beerware license).\\r\\n \\r\\n The ML8511 UV Sensor outputs an analog signal in relation to the amount of UV light it detects.\\r\\n \\r\\n Connect the following ML8511 breakout board to Arduino:\\r\\n 3.3V = 3.3V\\r\\n OUT = A0\\r\\n GND = GND\\r\\n EN = 3.3V\\r\\n 3.3V = A1\\r\\n These last two connections are a little different. Connect the EN pin on the breakout to 3.3V on the breakout.\\r\\n This will enable the output. Also connect the 3.3V pin of the breakout to Arduino pin 1.\\r\\n \\r\\n This example uses a neat trick. Analog to digital conversions rely completely on VCC. We assume\\r\\n this is 5V but if the board is powered from USB this may be as high as 5.25V or as low as 4.75V:\\r\\n http:\\\/\\\/en.wikipedia.org\\\/wiki\\\/USB#Power Because of this unknown window it makes the ADC fairly inaccurate\\r\\n in most cases. To fix this, we use the very accurate onboard 3.3V reference (accurate within 1%). So by doing an\\r\\n ADC on the 3.3V pin (A1) and then comparing this against the reading from the sensor we can extrapolate\\r\\n a true-to-life reading no matter what VIN is (as long as it's above 3.4V).\\r\\n \\r\\n Test your sensor by shining daylight or a UV LED: https:\\\/\\\/www.sparkfun.com\\\/products\\\/8662\\r\\n\\r\\n This sensor detects 280-390nm light most effectively. This is categorized as part of the UVB (burning rays)\\r\\n spectrum and most of the UVA (tanning rays) spectrum.\\r\\n \\r\\n There's lots of good UV radiation reading out there:\\r\\n http:\\\/\\\/www.ccohs.ca\\\/oshanswers\\\/phys_agents\\\/ultravioletradiation.html\\r\\n https:\\\/\\\/www.iuva.org\\\/uv-faqs\\r\\n \\r\\n*\\\/\\r\\n\\r\\n\\\/\\\/Hardware pin definitions\\r\\nint UVOUT = A0; \\\/\\\/Output from the sensor\\r\\nint REF_3V3 = A1; \\\/\\\/3.3V power on the Arduino board\\r\\n\\r\\nvoid setup()\\r\\n{\\r\\n  Serial.begin(9600);\\r\\n\\r\\n  pinMode(UVOUT, INPUT);\\r\\n  pinMode(REF_3V3, INPUT);\\r\\n\\r\\n  Serial.println(&quot;ML8511 example&quot;);\\r\\n}\\r\\n\\r\\nvoid loop()\\r\\n{\\r\\n  int uvLevel = averageAnalogRead(UVOUT);\\r\\n  int refLevel = averageAnalogRead(REF_3V3);\\r\\n  \\r\\n  \\\/\\\/Use the 3.3V power pin as a reference to get a very accurate output value from sensor\\r\\n  float outputVoltage = 3.3 \\\/ refLevel * uvLevel;\\r\\n  \\r\\n  float uvIntensity = mapfloat(outputVoltage, 0.99, 2.8, 0.0, 15.0); \\\/\\\/Convert the voltage to a UV intensity level\\r\\n\\r\\n  Serial.print(&quot;output: &quot;);\\r\\n  Serial.print(refLevel);\\r\\n\\r\\n  Serial.print(&quot;ML8511 output: &quot;);\\r\\n  Serial.print(uvLevel);\\r\\n\\r\\n  Serial.print(&quot; \\\/ ML8511 voltage: &quot;);\\r\\n  Serial.print(outputVoltage);\\r\\n\\r\\n  Serial.print(&quot; \\\/ UV Intensity (mW\\\/cm^2): &quot;);\\r\\n  Serial.print(uvIntensity);\\r\\n  \\r\\n  Serial.println();\\r\\n  \\r\\n  delay(100);\\r\\n}\\r\\n\\r\\n\\\/\\\/Takes an average of readings on a given pin\\r\\n\\\/\\\/Returns the average\\r\\nint averageAnalogRead(int pinToRead)\\r\\n{\\r\\n  byte numberOfReadings = 8;\\r\\n  unsigned int runningValue = 0; \\r\\n\\r\\n  for(int x = 0 ; x &lt; numberOfReadings ; x++)\\r\\n    runningValue += analogRead(pinToRead);\\r\\n  runningValue \\\/= numberOfReadings;\\r\\n\\r\\n  return(runningValue);  \\r\\n}\\r\\n\\r\\n\\\/\\\/The Arduino Map function but for floats\\r\\n\\\/\\\/From: http:\\\/\\\/forum.arduino.cc\\\/index.php?topic=3922.0\\r\\nfloat mapfloat(float x, float in_min, float in_max, float out_min, float out_max)\\r\\n{\\r\\n  return (x - in_min) * (out_max - out_min) \\\/ (in_max - in_min) + out_min;\\r\\n}\"}],\"isStarred\":false,\"stars\":0}");

        var fileList = populate(input);
        init_hash(fileList);
    });
</script>

<div id="codeBender_embed_wrapper">
    <div id="codeBender_embed_header">
        <div class="shadow"></div>
        <div class="names">
                            <span class="projectName"><a href="https://codebender.cc/sketch:30707?referrer=sparkfun">ML8511 Example</a></span> by <span class="userName"><a href="https://codebender.cc/user/sparkfun?referrer=sparkfun">sparkfun</a></span>
                                    </div>
        	        <a title="Sign up to clone!" class="clone-link clone-link-inactive" href="https://codebender.cc/?referrer=sparkfun"><i class="icon-copy"></i> Clone &amp; Edit</a>
	        <a class="download-link" href="https://codebender.cc/utilities/download/30707?referrer=sparkfun"><i class="icon-download-alt"></i> Download</a>
	        <a title="" data-original-title="" id="edit-button" href="javascript:void(0);"><i class="icon-edit"></i> Edit</a>
            </div>


    <div id="codeBender_embed_sidebar">
        <div class="description"></div>

        <div class="fileWrapper" id="file_list"><div class="file file-selected" for="codeBender_embed_file0" onclick='changeHash("ML8511 Example.ino")'> <span class="name">ML8511 Example.ino</span> </div>
        </div>
    </div>

    <div style="height: 425px;" id="codeBender_embed_codeContainer">
        <div style="height: 425px;" class=" ace_editor ace-tm" id="codeBender_embed_codeWrapper"><textarea style="opacity: 0; height: 14.6667px; width: 6.6px; left: 51px; top: 0px;" spellcheck="false" autocapitalize="off" autocorrect="off" class="ace_text-input" wrap="off"></textarea><div class="ace_gutter"><div style="margin-top: 0px; height: 437.333px; width: 47px;" class="ace_layer ace_gutter-layer ace_folding-enabled"><div style="height: 14.6667px;" class="ace_gutter-cell ">1<span style="height: 14.6667px;" class="ace_fold-widget ace_start ace_open"></span></div><div style="height: 14.6667px;" class="ace_gutter-cell ">2</div><div style="height: 14.6667px;" class="ace_gutter-cell ">3</div><div style="height: 14.6667px;" class="ace_gutter-cell ">4</div><div style="height: 14.6667px;" class="ace_gutter-cell ">5</div><div style="height: 14.6667px;" class="ace_gutter-cell ">6</div><div style="height: 14.6667px;" class="ace_gutter-cell ">7</div><div style="height: 14.6667px;" class="ace_gutter-cell ">8</div><div style="height: 14.6667px;" class="ace_gutter-cell ">9</div><div style="height: 14.6667px;" class="ace_gutter-cell ">10</div><div style="height: 14.6667px;" class="ace_gutter-cell ">11</div><div style="height: 14.6667px;" class="ace_gutter-cell ">12</div><div style="height: 14.6667px;" class="ace_gutter-cell ">13</div><div style="height: 14.6667px;" class="ace_gutter-cell ">14</div><div style="height: 14.6667px;" class="ace_gutter-cell ">15</div><div style="height: 14.6667px;" class="ace_gutter-cell ">16</div><div style="height: 14.6667px;" class="ace_gutter-cell ">17</div><div style="height: 14.6667px;" class="ace_gutter-cell ">18</div><div style="height: 14.6667px;" class="ace_gutter-cell ">19</div><div style="height: 14.6667px;" class="ace_gutter-cell ">20</div><div style="height: 14.6667px;" class="ace_gutter-cell ">21</div><div style="height: 14.6667px;" class="ace_gutter-cell ">22</div><div style="height: 14.6667px;" class="ace_gutter-cell ">23</div><div style="height: 14.6667px;" class="ace_gutter-cell ">24</div><div style="height: 14.6667px;" class="ace_gutter-cell ">25</div><div style="height: 14.6667px;" class="ace_gutter-cell ">26</div><div style="height: 14.6667px;" class="ace_gutter-cell ">27</div><div style="height: 14.6667px;" class="ace_gutter-cell ">28</div><div style="height: 14.6667px;" class="ace_gutter-cell ">29</div><div style="height: 14.6667px;" class="ace_gutter-cell ">30</div><div style="height: 14.6667px;" class="ace_gutter-cell ">31</div></div><div style="display: none; opacity: 0;" class="ace_gutter-active-line"></div></div><div style="left: 47px; right: 17px; bottom: 17px;" class="ace_scroller"><div style="margin-top: 0px; width: 760px; height: 437.333px; margin-left: 0px;" class="ace_content"><div class="ace_layer ace_print-margin-layer"><div style="left: 532px; visibility: hidden;" class="ace_print-margin"></div></div><div class="ace_layer ace_marker-layer"></div><div style="padding: 0px 4px;" class="ace_layer ace_text-layer"><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment">/* </span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> ML8511 UV Sensor Read Example</span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> By: Nathan Seidle</span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> SparkFun Electronics</span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> Date: January 15th, 2014</span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> License: This code is public domain but you buy me a beer if you use this and we meet someday (Beerware license).</span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> </span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> The ML8511 UV Sensor outputs an analog signal in relation to the amount of UV light it detects.</span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> </span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> Connect the following ML8511 breakout board to Arduino:</span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> 3.3V = 3.3V</span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> OUT = A0</span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> GND = GND</span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> EN = 3.3V</span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> 3.3V = A1</span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> These last two connections are a little different. Connect the EN pin on the breakout to 3.3V on the breakout.</span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> This will enable the output. Also connect the 3.3V pin of the breakout to Arduino pin 1.</span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> </span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> This example uses a neat trick. Analog to digital conversions rely completely on VCC. We assume</span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> this is 5V but if the board is powered from USB this may be as high as 5.25V or as low as 4.75V:</span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> http://en.wikipedia.org/wiki/USB#Power Because of this unknown window it makes the ADC fairly inaccurate</span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> in most cases. To fix this, we use the very accurate onboard 3.3V reference (accurate within 1%). So by doing an</span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> ADC on the 3.3V pin (A1) and then comparing this against the reading from the sensor we can extrapolate</span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> a true-to-life reading no matter what VIN is (as long as it's above 3.4V).</span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> </span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> Test your sensor by shining daylight or a UV LED: https://www.sparkfun.com/products/8662</span></div><div class="ace_line" style="height:14.666671752929688px"></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> This sensor detects 280-390nm light most effectively. This is categorized as part of the UVB (burning rays)</span></div><div class="ace_line" style="height:14.666671752929688px"><span class="ace_comment"> spectrum and most of the UVA (tanning rays) spectrum.</span></div></div><div class="ace_layer ace_marker-layer"></div><div style="opacity: 0;" class="ace_layer ace_cursor-layer ace_hidden-cursors"><div style="left: 4px; top: 0px; width: 6.6px; height: 14.6667px;" class="ace_cursor"></div></div></div></div><div style="width: 22px; bottom: 17px;" class="ace_scrollbar ace_scrollbar-v"><div style="width: 22px; height: 1422.67px;" class="ace_scrollbar-inner"></div></div><div style="height: 22px; left: 47px; right: 17px;" class="ace_scrollbar ace_scrollbar-h"><div style="height: 22px; width: 760px;" class="ace_scrollbar-inner"></div></div><div style="height: auto; width: auto; top: 0px; left: 0px; visibility: hidden; position: absolute; white-space: pre; font: inherit; overflow: hidden;"><div style="height: auto; width: auto; top: 0px; left: 0px; visibility: hidden; position: absolute; white-space: pre; font: inherit; overflow: visible;"></div><div style="height: auto; width: auto; top: 0px; left: 0px; visibility: hidden; position: absolute; white-space: pre; font-family: inherit; font-style: inherit; font-size: inherit; line-height: inherit; font-size-adjust: inherit; font-stretch: inherit; font-feature-settings: inherit; font-language-override: inherit; font-kerning: inherit; font-synthesis: inherit; font-variant: inherit; overflow: visible;">XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</div></div></div>
    </div>


    <div id="codeBender_embed_footer">
        

	    	        <div id="codeBender_flashing_plugin">

	        <select id="cb_cf_boards"><optgroup label="Arduino"><option selected="selected" value="Arduino Uno">Arduino Uno</option><option value="Arduino Duemilanove w/ ATmega328">Arduino Duemilanove w/ ATmega328</option><option value="Arduino Diecimila or Duemilanove w/ ATmega168">Arduino Diecimila or Duemilanove w/ ATmega168</option><option value="Arduino Nano w/ ATmega328">Arduino Nano w/ ATmega328</option><option value="Arduino Nano w/ ATmega168">Arduino Nano w/ ATmega168</option><option value="Arduino Mega 2560 or Mega ADK">Arduino Mega 2560 or Mega ADK</option><option value="Arduino Mega (ATmega1280)">Arduino Mega (ATmega1280)</option><option value="Arduino Leonardo">Arduino Leonardo</option><option value="Arduino Mini w/ ATmega328">Arduino Mini w/ ATmega328</option><option value="Arduino Mini w/ ATmega168">Arduino Mini w/ ATmega168</option><option value="Arduino Ethernet">Arduino Ethernet</option><option value="Arduino Fio">Arduino Fio</option><option value="Arduino Pro or Pro Mini (5V, 16 MHz) w/ ATmega328">Arduino Pro or Pro Mini (5V, 16 MHz) w/ ATmega328</option><option value="Arduino Pro or Pro Mini (5V, 16 MHz) w/ ATmega168">Arduino Pro or Pro Mini (5V, 16 MHz) w/ ATmega168</option><option value="Arduino Pro or Pro Mini (3.3V, 8 MHz) w/ ATmega328">Arduino Pro or Pro Mini (3.3V, 8 MHz) w/ ATmega328</option><option value="Arduino Pro or Pro Mini (3.3V, 8 MHz) w/ ATmega168">Arduino Pro or Pro Mini (3.3V, 8 MHz) w/ ATmega168</option><option value="Arduino Micro">Arduino Micro</option><option value="Arduino Esplora">Arduino Esplora</option><option value="LilyPad Arduino USB">LilyPad Arduino USB</option><option value="LilyPad Arduino w/ ATmega328">LilyPad Arduino w/ ATmega328</option><option value="LilyPad Arduino w/ ATmega168">LilyPad Arduino w/ ATmega168</option><option value="Arduino BT w/ ATmega328 (untested)">Arduino BT w/ ATmega328 (untested)</option><option value="Arduino BT w/ ATmega168">Arduino BT w/ ATmega168</option><option value="Arduino NG or older w/ ATmega168 (untested)">Arduino NG or older w/ ATmega168 (untested)</option><option value="Arduino NG or older w/ ATmega8 (untested)">Arduino NG or older w/ ATmega8 (untested)</option><option value="Arduino Robot Control">Arduino Robot Control</option><option value="Arduino Robot Motor">Arduino Robot Motor</option></optgroup><optgroup label="TinyCircuits"><option value="TinyDuino">TinyDuino</option><option value="TinyLily Mini">TinyLily Mini</option></optgroup><optgroup label="RedBearLab"><option value="Blend Micro 3.3V/8MHz">Blend Micro 3.3V/8MHz</option><option value="Blend Micro 3.3V/16MHz (overclock)">Blend Micro 3.3V/16MHz (overclock)</option><option value="Blend">Blend</option></optgroup><optgroup label="LowPowerLab"><option value="Moteino">Moteino</option><option value="MoteinoMEGA">MoteinoMEGA</option></optgroup><optgroup label="SparkFun Electronics"><option value="MicroView">MicroView</option><option value="Sparkfun RedBoard">Sparkfun RedBoard</option><option value="Sparkfun Mega Pro 2560V 3.3V">Sparkfun Mega Pro 2560V 3.3V</option><option value="SparkFun Pro Micro 5V/16MHz">SparkFun Pro Micro 5V/16MHz</option><option value="SparkFun Pro Micro 3.3V/8MHz">SparkFun Pro Micro 3.3V/8MHz</option><option value="SparkFun Fio V3 3.3V/8MHz">SparkFun Fio V3 3.3V/8MHz</option><option value="SparkFun Makey Makey">SparkFun Makey Makey</option><option value="SparkFun Digital Sandbox">SparkFun Digital Sandbox</option></optgroup><optgroup label="Adafruit Industries"><option value="Adafruit Gemma 8MHz">Adafruit Gemma 8MHz</option><option value="Adafruit FLORA">Adafruit FLORA</option><option value="Adafruit Trinket 8MHz">Adafruit Trinket 8MHz</option><option value="Adafruit Trinket 16MHz">Adafruit Trinket 16MHz</option><option value="Adafruit Pro Trinket 5V/16MHz (USB)">Adafruit Pro Trinket 5V/16MHz (USB)</option><option value="Adafruit Pro Trinket 3V/12MHz (USB)">Adafruit Pro Trinket 3V/12MHz (USB)</option><option value="Adafruit Pro Trinket 5V/16MHz (FTDI)">Adafruit Pro Trinket 5V/16MHz (FTDI)</option><option value="Adafruit Pro Trinket 3V/12MHz (FTDI)">Adafruit Pro Trinket 3V/12MHz (FTDI)</option></optgroup><optgroup label="Other Vendors"><option value="Arno">Arno</option><option value="WildFire v2 [stk500]">WildFire v2 [stk500]</option><option value="WildFire v3 [optiboot]">WildFire v3 [optiboot]</option><option value="arLCD by EarthMake">arLCD by EarthMake</option><option value="LightUp">LightUp</option><option value="Geekuino">Geekuino</option><option value="Hummingbird Duo">Hummingbird Duo</option></optgroup><optgroup label="AtTiny uProcessors"><option value="ATtiny45 (internal 1 MHz clock) D. A. Mellis core">ATtiny45 (internal 1 MHz clock) D. A. Mellis core</option><option value="ATtiny45 (internal 8 MHz clock) D. A. Mellis core">ATtiny45 (internal 8 MHz clock) D. A. Mellis core</option><option value="ATtiny45 (external 20 MHz clock) D. A. Mellis core">ATtiny45 (external 20 MHz clock) D. A. Mellis core</option><option value="ATtiny85 (internal 1 MHz clock) D. A. Mellis core">ATtiny85 (internal 1 MHz clock) D. A. Mellis core</option><option value="ATtiny85 (internal 8 MHz clock) D. A. Mellis core">ATtiny85 (internal 8 MHz clock) D. A. Mellis core</option><option value="ATtiny85 (external 20 MHz clock) D. A. Mellis core">ATtiny85 (external 20 MHz clock) D. A. Mellis core</option><option value="ATtiny44 (internal 1 MHz clock) D. A. Mellis core">ATtiny44 (internal 1 MHz clock) D. A. Mellis core</option><option value="ATtiny44 (internal 8 MHz clock) D. A. Mellis core">ATtiny44 (internal 8 MHz clock) D. A. Mellis core</option><option value="ATtiny44 (external 20 MHz clock) D. A. Mellis core">ATtiny44 (external 20 MHz clock) D. A. Mellis core</option><option value="ATtiny84 (internal 1 MHz clock) D. A. Mellis core">ATtiny84 (internal 1 MHz clock) D. A. Mellis core</option><option value="ATtiny84 (internal 8 MHz clock) D. A. Mellis core">ATtiny84 (internal 8 MHz clock) D. A. Mellis core</option><option value="ATtiny84 (external 20 MHz clock) D. A. Mellis core">ATtiny84 (external 20 MHz clock) D. A. Mellis core</option><option value="ATtiny44 (1 MHz internal osc; BOD disabled) Arduino-Tiny core">ATtiny44 (1 MHz internal osc; BOD disabled) Arduino-Tiny core</option><option value="ATtiny44 (8 MHz internal osc; BOD disabled) Arduino-Tiny core">ATtiny44 (8 MHz internal osc; BOD disabled) Arduino-Tiny core</option><option value="ATtiny45 (1 MHz internal osc) Arduino-Tiny core">ATtiny45 (1 MHz internal osc) Arduino-Tiny core</option><option value="ATtiny45 (8 MHz internal osc) Arduino-Tiny core">ATtiny45 (8 MHz internal osc) Arduino-Tiny core</option><option value="ATtiny84 (1 MHz internal osc; BOD disabled) Arduino-Tiny core">ATtiny84 (1 MHz internal osc; BOD disabled) Arduino-Tiny core</option><option value="ATtiny84 (8 MHz internal osc; BOD disabled) Arduino-Tiny core">ATtiny84 (8 MHz internal osc; BOD disabled) Arduino-Tiny core</option><option value="ATtiny84 (16 MHz ext. crystal; 4.3 V BOD) Arduino-Tiny core">ATtiny84 (16 MHz ext. crystal; 4.3 V BOD) Arduino-Tiny core</option><option value="ATtiny85 (1 MHz internal osc; BOD disabled) Arduino-Tiny core">ATtiny85 (1 MHz internal osc; BOD disabled) Arduino-Tiny core</option><option value="ATtiny85 (8 MHz internal osc; BOD disabled) Arduino-Tiny core">ATtiny85 (8 MHz internal osc; BOD disabled) Arduino-Tiny core</option><option value="ATtiny85 (16 MHz ext crystal; 4.3 V BOD) Arduino-Tiny core">ATtiny85 (16 MHz ext crystal; 4.3 V BOD) Arduino-Tiny core</option><option value="ATtiny85 (16 MHz internal PLL; 4.3 V BOD) Arduino-Tiny core">ATtiny85 (16 MHz internal PLL; 4.3 V BOD) Arduino-Tiny core</option><option value="Attiny2313 (internal 1 MHz clock) Arduino-Tiny core">Attiny2313 (internal 1 MHz clock) Arduino-Tiny core</option><option value="Attiny2313 (internal 8 MHz clock) Arduino-Tiny core">Attiny2313 (internal 8 MHz clock) Arduino-Tiny core</option></optgroup></select>
	        <select disabled="disabled" id="cb_cf_ports"></select>

	        <button class="btn btn-success" id="cb_cf_flash_btn" disabled="disabled">
	            <i class="icon-arrow-right"></i> Run on Arduino
	        </button>

	        <p class="new-message" id="cb_cf_operation_output">To program your Arduino from your browser, install the codebender plugin <a onclick='compilerflasher.pluginHandler.addTo("Firefox", "//codebender.cc/codebender.xpi")' id="xpi-download-url" href="javascript:void(0);">Add to Firefox.</a></p>
	        </div>
	        </div>
</div>
<script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","licenseKey":"2cbf0ff869","applicationID":"3124842","transactionName":"ZgMBMhQAXEdYB0FbV19JIgUSCF1aFidaVl1TAw0CAxN1UVcBR1tbcxMNAgoEbVFUBlBWZ0EUDAwDAkY=","queueTime":0,"applicationTime":100,"atts":"SkQCRFwaT0k=","errorBeacon":"bam.nr-data.net","agent":"js-agent.newrelic.com\/nr-632.min.js"}</script>

</body></html>